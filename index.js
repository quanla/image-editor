(()=>{var Xm=Object.create;var sr=Object.defineProperty;var eh=Object.getOwnPropertyDescriptor;var th=Object.getOwnPropertyNames;var rh=Object.getPrototypeOf,nh=Object.prototype.hasOwnProperty;var _s=e=>sr(e,"__esModule",{value:!0});var Os=(e,t)=>()=>(e&&(t=e(e=0)),t);var p=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),oh=(e,t)=>{for(var r in t)sr(e,r,{get:t[r],enumerable:!0})},As=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of th(t))!nh.call(e,o)&&(r||o!=="default")&&sr(e,o,{get:()=>t[o],enumerable:!(n=eh(t,o))||n.enumerable});return e},m=(e,t)=>As(_s(sr(e!=null?Xm(rh(e)):{},"default",!t&&e&&e.__esModule?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e),sh=(e=>(t,r)=>e&&e.get(t)||(r=As(_s({}),t,1),e&&e.set(t,r),r))(typeof WeakMap!="undefined"?new WeakMap:0);var Us=p((MS,Ns)=>{"use strict";var Ms=Object.getOwnPropertySymbols,ih=Object.prototype.hasOwnProperty,ch=Object.prototype.propertyIsEnumerable;function uh(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function lh(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(t).map(function(s){return t[s]});if(n.join("")!=="0123456789")return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(s){o[s]=s}),Object.keys(Object.assign({},o)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}Ns.exports=lh()?Object.assign:function(e,t){for(var r,n=uh(e),o,s=1;s<arguments.length;s++){r=Object(arguments[s]);for(var i in r)ih.call(r,i)&&(n[i]=r[i]);if(Ms){o=Ms(r);for(var c=0;c<o.length;c++)ch.call(r,o[c])&&(n[o[c]]=r[o[c]])}}return n}});var Zs=p(R=>{"use strict";var dn=Us(),ut=60103,Is=60106;R.Fragment=60107;R.StrictMode=60108;R.Profiler=60114;var Vs=60109,$s=60110,Ts=60112;R.Suspense=60113;var Ls=60115,js=60116;typeof Symbol=="function"&&Symbol.for&&(ae=Symbol.for,ut=ae("react.element"),Is=ae("react.portal"),R.Fragment=ae("react.fragment"),R.StrictMode=ae("react.strict_mode"),R.Profiler=ae("react.profiler"),Vs=ae("react.provider"),$s=ae("react.context"),Ts=ae("react.forward_ref"),R.Suspense=ae("react.suspense"),Ls=ae("react.memo"),js=ae("react.lazy"));var ae,zs=typeof Symbol=="function"&&Symbol.iterator;function ah(e){return e===null||typeof e!="object"?null:(e=zs&&e[zs]||e["@@iterator"],typeof e=="function"?e:null)}function Dt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Bs={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Fs={};function lt(e,t,r){this.props=e,this.context=t,this.refs=Fs,this.updater=r||Bs}lt.prototype.isReactComponent={};lt.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error(Dt(85));this.updater.enqueueSetState(this,e,t,"setState")};lt.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Gs(){}Gs.prototype=lt.prototype;function mn(e,t,r){this.props=e,this.context=t,this.refs=Fs,this.updater=r||Bs}var hn=mn.prototype=new Gs;hn.constructor=mn;dn(hn,lt.prototype);hn.isPureReactComponent=!0;var vn={current:null},Hs=Object.prototype.hasOwnProperty,Ws={key:!0,ref:!0,__self:!0,__source:!0};function Ks(e,t,r){var n,o={},s=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(s=""+t.key),t)Hs.call(t,n)&&!Ws.hasOwnProperty(n)&&(o[n]=t[n]);var c=arguments.length-2;if(c===1)o.children=r;else if(1<c){for(var u=Array(c),l=0;l<c;l++)u[l]=arguments[l+2];o.children=u}if(e&&e.defaultProps)for(n in c=e.defaultProps,c)o[n]===void 0&&(o[n]=c[n]);return{$$typeof:ut,type:e,key:s,ref:i,props:o,_owner:vn.current}}function fh(e,t){return{$$typeof:ut,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function yn(e){return typeof e=="object"&&e!==null&&e.$$typeof===ut}function ph(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Qs=/\/+/g;function gn(e,t){return typeof e=="object"&&e!==null&&e.key!=null?ph(""+e.key):t.toString(36)}function ir(e,t,r,n,o){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(s){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case ut:case Is:i=!0}}if(i)return i=e,o=o(i),e=n===""?"."+gn(i,0):n,Array.isArray(o)?(r="",e!=null&&(r=e.replace(Qs,"$&/")+"/"),ir(o,t,r,"",function(l){return l})):o!=null&&(yn(o)&&(o=fh(o,r+(!o.key||i&&i.key===o.key?"":(""+o.key).replace(Qs,"$&/")+"/")+e)),t.push(o)),1;if(i=0,n=n===""?".":n+":",Array.isArray(e))for(var c=0;c<e.length;c++){s=e[c];var u=n+gn(s,c);i+=ir(s,t,r,u,o)}else if(u=ah(e),typeof u=="function")for(e=u.call(e),c=0;!(s=e.next()).done;)s=s.value,u=n+gn(s,c++),i+=ir(s,t,r,u,o);else if(s==="object")throw t=""+e,Error(Dt(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t));return i}function cr(e,t,r){if(e==null)return e;var n=[],o=0;return ir(e,n,"","",function(s){return t.call(r,s,o++)}),n}function dh(e){if(e._status===-1){var t=e._result;t=t(),e._status=0,e._result=t,t.then(function(r){e._status===0&&(r=r.default,e._status=1,e._result=r)},function(r){e._status===0&&(e._status=2,e._result=r)})}if(e._status===1)return e._result;throw e._result}var Ys={current:null};function ke(){var e=Ys.current;if(e===null)throw Error(Dt(321));return e}var mh={ReactCurrentDispatcher:Ys,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:vn,IsSomeRendererActing:{current:!1},assign:dn};R.Children={map:cr,forEach:function(e,t,r){cr(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return cr(e,function(){t++}),t},toArray:function(e){return cr(e,function(t){return t})||[]},only:function(e){if(!yn(e))throw Error(Dt(143));return e}};R.Component=lt;R.PureComponent=mn;R.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mh;R.cloneElement=function(e,t,r){if(e==null)throw Error(Dt(267,e));var n=dn({},e.props),o=e.key,s=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,i=vn.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(u in t)Hs.call(t,u)&&!Ws.hasOwnProperty(u)&&(n[u]=t[u]===void 0&&c!==void 0?c[u]:t[u])}var u=arguments.length-2;if(u===1)n.children=r;else if(1<u){c=Array(u);for(var l=0;l<u;l++)c[l]=arguments[l+2];n.children=c}return{$$typeof:ut,type:e.type,key:o,ref:s,props:n,_owner:i}};R.createContext=function(e,t){return t===void 0&&(t=null),e={$$typeof:$s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider={$$typeof:Vs,_context:e},e.Consumer=e};R.createElement=Ks;R.createFactory=function(e){var t=Ks.bind(null,e);return t.type=e,t};R.createRef=function(){return{current:null}};R.forwardRef=function(e){return{$$typeof:Ts,render:e}};R.isValidElement=yn;R.lazy=function(e){return{$$typeof:js,_payload:{_status:-1,_result:e},_init:dh}};R.memo=function(e,t){return{$$typeof:Ls,type:e,compare:t===void 0?null:t}};R.useCallback=function(e,t){return ke().useCallback(e,t)};R.useContext=function(e,t){return ke().useContext(e,t)};R.useDebugValue=function(){};R.useEffect=function(e,t){return ke().useEffect(e,t)};R.useImperativeHandle=function(e,t,r){return ke().useImperativeHandle(e,t,r)};R.useLayoutEffect=function(e,t){return ke().useLayoutEffect(e,t)};R.useMemo=function(e,t){return ke().useMemo(e,t)};R.useReducer=function(e,t,r){return ke().useReducer(e,t,r)};R.useRef=function(e){return ke().useRef(e)};R.useState=function(e){return ke().useState(e)};R.version="17.0.2"});var F=p((US,Js)=>{"use strict";Js.exports=Zs()});var N=p(xn=>{function Xs(){return ei(arguments,{},0)}xn.cs=Xs;xn.cs1=Xs;var ei=(e,t,r)=>{let n=e[r],o,s;return Array.isArray(n)?(o=n[0],s=n[1]):s=n,s(t,e.length<=r+1?null:i=>{let c;return o!=null?(c=Object.assign({},t),c[o]=i):c=t,ei(e,c,r+1)})}});var Cn=p(ti=>{var hh=({createNewAttrUpdater:e})=>{let t={};return{update:r=>{for(let n in r){let o=t[n];o?o.update(r[n]):t[n]=e(n,r[n])}for(let n in t)r[n]==null&&(t[n].dispose(),delete t[n])},dispose:()=>{for(let r in t)t[r].dispose()}}};ti.AttrsUpdater=hh});var bn=p(En=>{function wn(e,t){if(e===t)return!0;if(e==null&&t==null||e==null||t==null)return!1;if(typeof e=="object"&&typeof t=="object"){for(let r in e)if(!wn(e[r],t[r]))return!1;for(let r in t)if(e[r]===void 0&&t[r]!==void 0)return!1;return!0}return!1}En.equalDeep=wn;En.equalDeep1=wn});var z=p(G=>{var ri=(e,t)=>{if(e==null)return null;let r={};for(let n in e)r[t(n,e[n])]=e[n];return r};G.mapKeys=ri;var vh=e=>ri(e,t=>t);G.clone=vh;var yh=e=>{if(e==null)return null;for(let t in e)return e[t]};G.singleValue=yh;var gh=(e,t)=>{if(e==null)return null;let r={};for(let n in e){let o=t(e[n],n);o!=null&&(r[n]=o)}return r};G.mapValues=gh;var ni=(e,t)=>{if(e==null)return null;let r={};for(let n in e)~t.indexOf(n)||(r[n]=e[n]);return r};G.omit=ni;G.omit1=ni;function xh(e,t){let r={};for(let n in e)t(e[n],n)&&(r[n]=e[n]);return r}G.filterValues=xh;function Ch(e,t){let r=[];for(let n in e)r.push(t(e[n],n));return r}G.oMapToArr=Ch;function wh(e,t,r=n=>n){let n={};for(let o=0;o<e.length;o++){let s=e[o];n[r(s,o)]=t(s,o)}return n}G.arrMapToO=wh;function Eh(e){if(e==null)return!0;for(let t in e)if(e.hasOwnProperty(t))return!1;return!0}G.isEmpty=Eh;var{equalDeep:oi}=bn();G.equalDeep=oi;G.equalDeep1=oi;var bh=(e,t)=>{let r={},n={};for(let o in e)t(o)?r[o]=e[o]:n[o]=e[o];return[r,n]};G.splitKeys=bh;var Sh=e=>{for(let t in e)delete e[t]};G.deleteAll=Sh;var qh=(e,t)=>{if(e==null)return e;let r={};for(let n of t)e.hasOwnProperty(n)&&(r[n]=e[n]);return r};G.keepOnly=qh;var Rh=(e,t)=>new Proxy(e,{get:(r,n)=>t.hasOwnProperty(n)?t[n]:r[n]});G.override=Rh;var kh=e=>{for(let t of Object.keys(e))delete e[t]};G.emptyObject=kh});var ci=p((zS,ii)=>{"use strict";var si=Object.getOwnPropertySymbols,Ph=Object.prototype.hasOwnProperty,Dh=Object.prototype.propertyIsEnumerable;function _h(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function Oh(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(t).map(function(s){return t[s]});if(n.join("")!=="0123456789")return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(s){o[s]=s}),Object.keys(Object.assign({},o)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}ii.exports=Oh()?Object.assign:function(e,t){for(var r,n=_h(e),o,s=1;s<arguments.length;s++){r=Object(arguments[s]);for(var i in r)Ph.call(r,i)&&(n[i]=r[i]);if(si){o=si(r);for(var c=0;c<o.length;c++)Dh.call(r,o[c])&&(n[o[c]]=r[o[c]])}}return n}});var xi=p(_=>{"use strict";var Sn=ci(),ve=typeof Symbol=="function"&&Symbol.for,_t=ve?Symbol.for("react.element"):60103,Ah=ve?Symbol.for("react.portal"):60106,Mh=ve?Symbol.for("react.fragment"):60107,Nh=ve?Symbol.for("react.strict_mode"):60108,Uh=ve?Symbol.for("react.profiler"):60114,Ih=ve?Symbol.for("react.provider"):60109,Vh=ve?Symbol.for("react.context"):60110,$h=ve?Symbol.for("react.forward_ref"):60112,Th=ve?Symbol.for("react.suspense"):60113,Lh=ve?Symbol.for("react.memo"):60115,jh=ve?Symbol.for("react.lazy"):60116,ui=typeof Symbol=="function"&&Symbol.iterator;function Ot(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var li={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ai={};function at(e,t,r){this.props=e,this.context=t,this.refs=ai,this.updater=r||li}at.prototype.isReactComponent={};at.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error(Ot(85));this.updater.enqueueSetState(this,e,t,"setState")};at.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function fi(){}fi.prototype=at.prototype;function qn(e,t,r){this.props=e,this.context=t,this.refs=ai,this.updater=r||li}var Rn=qn.prototype=new fi;Rn.constructor=qn;Sn(Rn,at.prototype);Rn.isPureReactComponent=!0;var kn={current:null},pi=Object.prototype.hasOwnProperty,di={key:!0,ref:!0,__self:!0,__source:!0};function mi(e,t,r){var n,o={},s=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(s=""+t.key),t)pi.call(t,n)&&!di.hasOwnProperty(n)&&(o[n]=t[n]);var c=arguments.length-2;if(c===1)o.children=r;else if(1<c){for(var u=Array(c),l=0;l<c;l++)u[l]=arguments[l+2];o.children=u}if(e&&e.defaultProps)for(n in c=e.defaultProps,c)o[n]===void 0&&(o[n]=c[n]);return{$$typeof:_t,type:e,key:s,ref:i,props:o,_owner:kn.current}}function zh(e,t){return{$$typeof:_t,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Pn(e){return typeof e=="object"&&e!==null&&e.$$typeof===_t}function Bh(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(r){return t[r]})}var hi=/\/+/g,ur=[];function vi(e,t,r,n){if(ur.length){var o=ur.pop();return o.result=e,o.keyPrefix=t,o.func=r,o.context=n,o.count=0,o}return{result:e,keyPrefix:t,func:r,context:n,count:0}}function yi(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>ur.length&&ur.push(e)}function Dn(e,t,r,n){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case _t:case Ah:s=!0}}if(s)return r(n,e,t===""?"."+On(e,0):t),1;if(s=0,t=t===""?".":t+":",Array.isArray(e))for(var i=0;i<e.length;i++){o=e[i];var c=t+On(o,i);s+=Dn(o,c,r,n)}else if(e===null||typeof e!="object"?c=null:(c=ui&&e[ui]||e["@@iterator"],c=typeof c=="function"?c:null),typeof c=="function")for(e=c.call(e),i=0;!(o=e.next()).done;)o=o.value,c=t+On(o,i++),s+=Dn(o,c,r,n);else if(o==="object")throw r=""+e,Error(Ot(31,r==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":r,""));return s}function _n(e,t,r){return e==null?0:Dn(e,"",t,r)}function On(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Bh(e.key):t.toString(36)}function Fh(e,t){e.func.call(e.context,t,e.count++)}function Gh(e,t,r){var n=e.result,o=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?An(e,n,r,function(s){return s}):e!=null&&(Pn(e)&&(e=zh(e,o+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(hi,"$&/")+"/")+r)),n.push(e))}function An(e,t,r,n,o){var s="";r!=null&&(s=(""+r).replace(hi,"$&/")+"/"),t=vi(t,s,n,o),_n(e,Gh,t),yi(t)}var gi={current:null};function Pe(){var e=gi.current;if(e===null)throw Error(Ot(321));return e}var Hh={ReactCurrentDispatcher:gi,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:kn,IsSomeRendererActing:{current:!1},assign:Sn};_.Children={map:function(e,t,r){if(e==null)return e;var n=[];return An(e,n,null,t,r),n},forEach:function(e,t,r){if(e==null)return e;t=vi(null,null,t,r),_n(e,Fh,t),yi(t)},count:function(e){return _n(e,function(){return null},null)},toArray:function(e){var t=[];return An(e,t,null,function(r){return r}),t},only:function(e){if(!Pn(e))throw Error(Ot(143));return e}};_.Component=at;_.Fragment=Mh;_.Profiler=Uh;_.PureComponent=qn;_.StrictMode=Nh;_.Suspense=Th;_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Hh;_.cloneElement=function(e,t,r){if(e==null)throw Error(Ot(267,e));var n=Sn({},e.props),o=e.key,s=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,i=kn.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(u in t)pi.call(t,u)&&!di.hasOwnProperty(u)&&(n[u]=t[u]===void 0&&c!==void 0?c[u]:t[u])}var u=arguments.length-2;if(u===1)n.children=r;else if(1<u){c=Array(u);for(var l=0;l<u;l++)c[l]=arguments[l+2];n.children=c}return{$$typeof:_t,type:e.type,key:o,ref:s,props:n,_owner:i}};_.createContext=function(e,t){return t===void 0&&(t=null),e={$$typeof:Vh,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider={$$typeof:Ih,_context:e},e.Consumer=e};_.createElement=mi;_.createFactory=function(e){var t=mi.bind(null,e);return t.type=e,t};_.createRef=function(){return{current:null}};_.forwardRef=function(e){return{$$typeof:$h,render:e}};_.isValidElement=Pn;_.lazy=function(e){return{$$typeof:jh,_ctor:e,_status:-1,_result:null}};_.memo=function(e,t){return{$$typeof:Lh,type:e,compare:t===void 0?null:t}};_.useCallback=function(e,t){return Pe().useCallback(e,t)};_.useContext=function(e,t){return Pe().useContext(e,t)};_.useDebugValue=function(){};_.useEffect=function(e,t){return Pe().useEffect(e,t)};_.useImperativeHandle=function(e,t,r){return Pe().useImperativeHandle(e,t,r)};_.useLayoutEffect=function(e,t){return Pe().useLayoutEffect(e,t)};_.useMemo=function(e,t){return Pe().useMemo(e,t)};_.useReducer=function(e,t,r){return Pe().useReducer(e,t,r)};_.useRef=function(e){return Pe().useRef(e)};_.useState=function(e){return Pe().useState(e)};_.version="16.14.0"});var Q=p((FS,Ci)=>{"use strict";Ci.exports=xi()});var H=p(wi=>{var{Fragment:Wh}=Q(),Kh=e=>e==null||Array.isArray(e)?e:e.type&&(e.type.$_r2_fragment||e.type===Wh)&&e.key==null?(e=e.props.children,e==null||Array.isArray(e)?e:[e]):[e];wi.ensureArray=Kh});var lr=p(Ei=>{var Qh=e=>{let t=!1,r;return function(){return t||(t=!0,r=e.apply(this,arguments)),r}};Ei.cache0=Qh});var Nn=p(Mn=>{var bi=e=>typeof e=="number"||typeof e=="string";Mn.validTextElement=bi;var Yh=(e,t)=>({getDom:()=>e,acceptPropagation:bi,applyUpdates:({propagationRequest:r})=>{r&&r.element!==t&&(t=r.element,e.data=t)}});Mn.createActiveTextController=Yh});var At=p(Si=>{var Zh={SVG:"http://www.w3.org/2000/svg",MATH:"http://www.w3.org/1998/Math/MathML"},Jh=e=>Zh[e.toUpperCase()];Si.getNamespace=Jh});var J=p(Un=>{var qi=()=>Object.create(Xh);Un.IterList=qi;var Ri=function(e){let t=this.first;for(;t;)e(t.value),t=t.next},Xh={empty(){this.last=this.first=null},shift(){let e=this.first.value;return this.last===this.first?this.last=this.first=null:this.first=this.first.next,e},unshift(e){let t={value:e,next:this.first};return this.first=t,this.last||(this.last=t),t},cutAfterEntry(e){e===this.last||(e.next=null,this.last=e)},isEmpty(){return!this.first},isNotEmpty(){return this.first},push(e){let t={value:e,next:null};return this.first||(this.first=t),this.last&&(this.last.next=t),this.last=t,t},pushList(e){if(!!e)if(this.first){let t=e.first;t&&(this.last.next=t,this.last=e.last)}else this.first=e.first,this.last=e.last},pushEntries(e,t){t&&(t.next=null),this.first?(this.last&&(this.last.next=e),this.last=t??e):(this.first=e,this.last=t??e)},lastValue(){return this.last.value},toArray(){let e=[];return Ri.call(this,e.push.bind(e)),e},hasMultiple(){return this.first&&this.first.next},pushEntry(e){this.last&&(this.last.next=e),this.last=e,this.first||(this.first=e),e.next=null},forEach:Ri,indexOf(e){let t=this.first,r=0;for(;;){if(t.value===e)return r;if(t=t.next,r++,t==null)return-1}},entryAt(e){let t=this.first;for(let r=0;r<e;r++)t=t.next;return t}},ev=e=>{let t=qi();return t.push(e),t};Un.singleIterList=ev});var Mt=p(ki=>{var{IterList:tv}=J(),rv=e=>{let t=Object.create(nv);return t.list=e,t};ki.CutPoint=rv;var nv={peek(){return(this.prevEntry?this.prevEntry.next:this.list.first)?.value},reset(){this.prevEntry=null},cut(){if(!this.prevEntry)this.list.shift();else{let e=this.prevEntry.next;this.prevEntry.next=e.next}},cutToNewList(){if(this.prevEntry){let e=tv();return e.pushEntries(this.prevEntry.next,this.list.last),this.list.cutAfterEntry(this.prevEntry),e}else throw"Why need to cut, it's still starting"},isFirst(){return this.prevEntry==null},endReached(){return(this.prevEntry?this.prevEntry.next:this.list.first)==null},forward(){return this.prevEntry=this.prevEntry?this.prevEntry.next:this.list.first,this.prevEntry.next==null},insert(e){if(this.prevEntry==null)this.prevEntry=this.list.unshift(e);else if(this.prevEntry.next==null)this.prevEntry=this.list.push(e);else{let t={value:e,next:this.prevEntry.next};this.prevEntry.next=t,this.prevEntry=t}}}});var ar=p(Pi=>{var ov=(e,{col:t,getKey:r=n=>n})=>{let n=0,o=t.length;for(;;){if(n===o)return-1-n;let s=Math.floor((n+o)/2),i=r(t[s]);if(i===e)return s;e>i?n=s+1:o=s}};Pi.binarySearch=ov});var _i=p(Di=>{var{IterList:sv}=J(),{CutPoint:iv}=Mt(),{binarySearch:cv}=ar(),uv=()=>{let e=Object.create(lv);return e.list2=sv(),e.pointer=iv(e.list2),e};Di.IncGroups=uv;var lv={push(e){if(this.list2.isEmpty())this.list2.push([e]);else{this.pointer.reset();let t=0,r=!1;for(;!this.pointer.endReached();){let n=this.pointer.peek();if(e>n[0]&&e<n[n.length-1]){let o=-cv(e,{col:n})-1;this.pointer.forward(),this.pointer.insert(n.slice(o)),n.splice(o,n.length-o);break}if(this.pointer.forward(),e>n[n.length-1]){let o=e-n[n.length-1];t=t===0?o:Math.min(o,t)}}if(r)this.list2.push([e]);else{let n=this.list2.lastValue();e-n[n.length-1]===t?n.push(e):this.list2.push([e])}}},hasMultiple(){return this.list2.hasMultiple()},toArray(){let e=[];return this.list2.forEach(t=>{e.push({count:t.length,pos:t[0]})}),e}}});var V=p(Nt=>{var Oi=function(){let e=arguments[0];for(let t=1;t<arguments.length;t++){let r=arguments[t];e=r?r(e):e}return e};Nt.chain=Oi;Nt.chain1=Oi;var av=(e,t)=>{if(!t)return e;for(let r of t)e=r?r(e):e;return e};Nt.chain2=av;var fv=(...e)=>(...t)=>{for(let r of e)if(!r(...t))return!1;return!0};Nt.and=fv});var j=p(v=>{var{chain:pv}=V(),dv=(e,t,r)=>{let n,o;for(let s of e){let i=t(s);if(i!=null){if(r!==void 0&&r===i)return s;if(n===void 0||n>i){let c=i;c!=null&&(n=c,o=s)}}}return o};v.findMinE=dv;var mv=(e,t=n=>n,r)=>{let n,o;for(let s of e){let i=t(s);if(r!==void 0&&r===i)return s;if(n===void 0||n<i){let c=i;c!=null&&(n=c,o=s)}}return o};v.findMaxE=mv;var hv=(e,t)=>{let r;for(let n of e)(r===void 0||t(r,n)>0)&&(r=n);return r};v.findMinECompare=hv;var vv=e=>e[e.length-1];v.last=vv;var yv=(e,t)=>{for(let r=e.length-1;r>-1;r--)if(t(e[r]))return r;return-1};v.findLastIndex=yv;var gv=(e,t)=>{for(let r=e.length-1;r>-1;r--){let n=e[r];if(t(n))return n}};v.findLast=gv;var xv=(e,t=n=>n,{gt:r=Ai.gt}={})=>{if(e==null)return null;let n;for(let o of e){if(o==null)continue;let s=t(o);(n===void 0||r(n,s))&&s!=null&&(n=s)}return n===void 0?null:n};v.findMinValue=xv;var Ai={le:(e,t)=>e<=t,lt:(e,t)=>e<t,ge:(e,t)=>e>=t,gt:(e,t)=>e>t},Cv=(e,t=n=>n,{lt:r=Ai.lt}={})=>{if(e==null)return null;let n;for(let o of e){if(o==null)continue;let s=t(o);(n===void 0||r(n,s))&&s!=null&&(n=s)}return n===void 0?null:n};v.findMaxValue=Cv;var wv=(e,t)=>{let r,n;for(let o=0;o<e.length;o++){let s=e[o];if(r===void 0||r>t(s)){let i=t(s);i!=null&&(r=i,n=o)}}return n};v.findMinIndex=wv;function Ev(e,t,r){return[...e.slice(0,r),t,...e.slice(r)]}v.insertAt=Ev;function bv(e){return t=>(e.push(t),()=>Ni(e,t))}v.addRemove=bv;function Mi(e,t){return e.filter(r=>!~t.indexOf(r))}v.withoutAll=Mi;v.removeAll=Mi;function Ni(e,t){if(e==null)return;let r=e.indexOf(t);r!==-1&&e.splice(r,1)}v.remove1Mutate=Ni;function Sv(e,t){if(t!=null)return t.filter(r=>r!==e)}v.without=Sv;function In(e,t=r=>r){if(!e)return e;let r=[],n=[];for(let o of e){let s=t(o);~n.indexOf(s)||(r.push(o),n.push(s))}return r}v.unique=In;v.unique1=In;function qv(e,t=r=>r){if(!e)return e;let{equalDeep1:r}=bn(),n=[],o=[];for(let s of e){let i=t(s);~o.findIndex(c=>r(c,i))||(n.push(s),o.push(i))}return n}v.uniqueDeep=qv;function Rv(e,t,r){if(e==null)return{};let n={};for(let o=0;o<e.length;o++){let s=e[o];if(n.hasOwnProperty(s[t]))throw`Property existed [${s[t]}]`;n[s[t]]=r?s[r]:s}return n}v.indexAttr=Rv;function kv(e,t,r){if(e==null)return{};let n={};for(let o=0;o<e.length;o++){let s=e[o];if(n.hasOwnProperty(t(s)))throw`Property existed [${t(s)}]`;n[t(s)]=r?r(s):s}return n}v.index=kv;function Pv(e,t,r){if(e==null)return{};let n={};for(let o=0;o<e.length;o++){let s=e[o],i=n[s[t]];i==null&&(i=[],n[s[t]]=i),i.push(r?s[r]:s)}return n}v.indexAttrMulti=Pv;function Ui(e,t=n=>n,r=(n,o)=>n>o?1:-1){if(e==null)return null;let n=e.slice();return n.sort((o,s)=>{let i=t(o),c=t(s);return i===c?0:i==null?-1:c==null?1:r(i,c)}),n}v.sort=Ui;v.sort1=Ui;function Dv(e,t){if(e==null)return null;let r=e.slice(0);return r.sort((n,o)=>{for(let s of t){let i=s(n),c=s(o);if(i>c)return 1;if(i<c)return-1}return 0}),r}v.sortMulti=Dv;function _v(e){if(e==null)return null;let t=e.slice(0);return t.reverse(),t}v.reverse=_v;function Ii(e){if(isNaN(e))throw"[createArray] Length is not a number: "+e;let t=new Array(e);for(let r=0;r<t.length;r++)t[r]=r;return t}v.createArray=Ii;v.createArray1=Ii;function Ov(e,t){let r=[];for(let n=e;n<t;n++)r.push(n);return r}v.createArray2=Ov;function Av(e,t){t=t.slice(0);for(let r of e)~t.indexOf(r)||t.push(r);return t}v.addListToSet=Av;function Mv(e,t){return~t.indexOf(e)||t.push(e),t}v.addToSetMutate=Mv;function Nv(e,t,r){let n=e[t];n==null&&(n=[],e[t]=n),n.push(r)}v.addToListMap=Nv;function Uv(e,t,r){e[t]=[...e[t]||[],...r]}v.concatToListMap=Uv;var Iv=(e,t,r)=>{e=e.slice(0);let n=[];for(let o=0;o<e.length;o++){let s=e[o],i=t(s);for(let c=o+1;c<e.length;c++){let u=e[c];t(u)===i&&(s=r(s,u),e.splice(c,1),c--)}n.push(s)}return n};v.merge=Iv;function Vv(...e){let t={};for(let r of e)for(let n in r)t.hasOwnProperty(n)?t[n]=[...t[n],...r[n]]:t[n]=r[n];return t}v.mergeListMap=Vv;function $v(e,t,r){return e.map(n=>{let o=t.indexOf(n);return o>-1?r[o]:n})}v.replace=$v;function Tv(e,t,r){if(e==null)return null;let n=e.findIndex(r);return n===-1?e:Vn(n,e,t)}v.replaceFind=Tv;function Lv(e,t,r){if(e==null)return null;let n=e.findIndex(r);return n===-1?e:Vn(n,e,t(e[n]))}v.replaceFind_f=Lv;var jv=(e,t,r)=>{let n=e.findIndex(t);return n===-1?[...e,r]:[...e.slice(0,n),r,...e.slice(n+1)]};v.upsert=jv;function zv(e,t,r){if(e==null)return null;let n=e.findIndex(t);return n===-1?e:$i(n,e,r)}v.changeFind=zv;var Bv=(e,t)=>{for(let r=0;r<e.length;r++){let n=e[r],o=t(n,r);if(o!=null)return o}return null};v.findValue=Bv;function Fv(e,t,r){return e==null?null:e.map(n=>t(n)?r(n):n)}v.replaceBy=Fv;function Gv(e,t,r){return e.map(n=>n===t?r:n)}v.replace1=Gv;function Hv(e,t){if(e==null)return[];let r=[],n=[];for(let o of e)(t(o)?r:n).push(o);return[r,n]}v.split=Hv;function Wv(e,t){if(e==null)return[];let r=[];for(let n=0;n<e.length;n++){let o=e[n];t(o)&&(r.push(o),e.splice(n,1),n--)}return r}v.extract=Wv;function Vi(e){if(e==null)return[];let t=[];for(let r of e)r&&(t=t.concat(r));return t}v.flatten1=Vi;v.flatten11=Vi;var Kv=(e,t)=>t.filter((r,n)=>n!==e);v.removeIndex=Kv;var Vn=(e,t,r)=>t.map((n,o)=>o!==e?n:r);v.replaceIndex=Vn;var Qv=(e,t,r)=>[...t.slice(0,e),...r,...t.slice(e+1)];v.replaceIndex2=Qv;var $i=(e,t,r)=>t.map((n,o)=>o!==e?n:r(n));v.changeIndex=$i;function Yv(e,t){let r={};for(let n=0;n<e.length;n++)r[t(n)]=e[n];return r}v.toMap=Yv;function Ti(e,t=r=>r){return e==null?0:e.reduce((r,n,o)=>r+(t(n,o)||0),0)}v.sum=Ti;v.sum1=Ti;var Zv=e=>{let t=typeof e=="function"?e:()=>e,r=0;return()=>{r++;let n=t();return r>=n.length&&(r=0),n[r]}};v.switchAmong=Zv;var Jv=(e,t)=>{let r=[],n=0;return t.forEach((o,s)=>{let i=s===t.length-1?e.length:n+Math.floor(o*e.length);r.push(e.slice(n,i)),n=i}),r};v.divide=Jv;var Xv=({get:e,set:t},r,n)=>{let o=e(n),s=e(r);t(o,r),t(s,n)};v.swap=Xv;var Li=(e,t)=>{if(e==null||e.length===0)return[];if(e.length===1)return e[0].map(s=>t([s]));let[r,...n]=e,o=[];for(let s of r)o=[...o,...Li(n,i=>t([s,...i]))];return o};v.crossMap=Li;var ey=e=>{let t=[];for(let r=0;r<e.length;r++){let n=e[r];if(!(t.indexOf(n)>-1)){for(let o=r+1;o<e.length;o++)if(e[o]===n){t.push(n);break}}}return t};v.findDuplicateds=ey;var ty=e=>pv(e.map(t=>JSON.stringify(t)),In,t=>t.map(r=>JSON.parse(r)));v.jsonUnique=ty;var ry=(e,t)=>{if(e==null||e.length<2)return e;let r=[];for(let n=0;n<e.length;n++){let o=e[n];n>0&&r.push(t),r.push(o)}return r};v.joinArr=ry;var ny=(e,t,r=(n,o)=>n===o)=>{t==null&&(t=[]),e==null&&(e=[]);let n=[],o=[];for(let s of t)e.find(i=>r(i,s))==null&&o.push(s);for(let s of e)t.find(i=>r(s,i))==null&&n.push(s);return{added:n,removed:o}};v.compareCol=ny;var oy=e=>{e=e.slice(0);let t=e.length,r=(n,o)=>{let s=e[n];e[n]=e[o],e[o]=s};for(;t!==0;){let n=Math.floor(Math.random()*t);t--,r(t,n)}return e};v.shuffle=oy;var ji=e=>e==null||e.length===0;v.isEmpty=ji;var sy=e=>!ji(e);v.isNotEmpty=sy;var iy=(e,t)=>{if(e.length!==t.length)return!1;for(let r of e)if(t.indexOf(r)===-1)return!1;return!0};v.setEqual=iy;var cy=e=>{if(e===null)return null;for(let t of e)if(t!==null)return!1;return!0};v.isAllNull=cy;var uy=(e,t)=>t==null?e==null:e==null||e.length>t.length?!0:zi(t.slice(0,e.length),e);v.arrStartsWith=uy;var zi=(e,t)=>{if(e==null)return t==null;if(t==null||e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0};v.arrEquals=zi;function ly(e,t,r){return r.map((n,o)=>o===e?r[t]:o===t?r[e]:n)}v.flip=ly});var Fi=p(Bi=>{var{isEmpty:ay}=z(),{findMinE:fy}=j();function py({start:e,getKey:t,heuristicCostEstimate:r,getNeighbors:n}){let o={},s=t(e),i={[s]:e},c={},u={};u[s]=0;let l={};for(l[s]=r(e);!ay(i);){let f=i[fy(Object.keys(i),h=>l[h])],d=t(f);if(r(f)===0)return dy(d,c);delete i[d],o[d]=f;for(let h of n(f)){let y=t(h.node);if(o.hasOwnProperty(y))continue;let x=u[d]+h.cost;if(isNaN(h.cost))throw`Cost is required [${y}]`;if(!i.hasOwnProperty(y))i[y]=h.node;else if(x>=u[y])continue;c[y]={key:d,...h},u[y]=x;let C=r(h.node);if(isNaN(C))throw`heuristicCostEstimate is required [${y}]`;l[y]=u[y]+C}}}Bi.aStar=py;function dy(e,t){let r=[];for(;t.hasOwnProperty(e);){let n=t[e];e=n.key,r.splice(0,0,n.action)}return r}});var $n=p(Gi=>{var my=(e,t,r)=>{let n=r.slice();return e<t?(n.splice(t,0,r[e]),n.splice(e,1)):(n.splice(e,1),n.splice(t,0,r[e])),n};Gi.moveElement=my});var Ki=p(Wi=>{var{aStar:hy}=Fi(),{createArray:Hi}=j(),{moveElement:vy}=$n(),yy=e=>hy({start:{items:Hi(e.length),movables:Hi(e.length)},getKey:({items:t,movables:r})=>t.toString()+"|"+r.toString(),heuristicCostEstimate:t=>{let r=0;for(let n=t.items.length;n--;){let o=e[t.items[n]];for(let s=t.items.length;--s>n;){let i=e[t.items[s]];i.pos<o.pos&&(r+=Math.min(o.count,i.count))}}return r},getNeighbors:({items:t,movables:r})=>gy(r,t,e)});Wi.aStarMethod=yy;function gy(e,t,r){let n=[];for(let o of e){let s=e.filter(c=>c!==o),i=t.indexOf(o);for(let c=t.length+1;c--;)c===i||c===i+1||n.push({node:{items:vy(i,c,t),movables:s},cost:r[o].count,action:{from:i,to:c}})}return n}});var Zi=p(Yi=>{var{sort:xy}=j(),{chain:Qi}=V(),{binarySearch:Cy}=ar(),wy=e=>{let t=e.map((u,l)=>({index:l,item:u})),r=xy(t.slice(),u=>u.item.count),n=[],o=[],s=(u,l)=>{o.push({from:u.index,to:l});let f,d;l>u.index?(f={from:u.index,to:l},d=-1,u.index=l-1):(f={from:l,to:u.index},d=1,u.index=l);for(let h of t)h!==u&&h.index>=f.from&&h.index<f.to&&(h.index+=d)},i=(u,l)=>{let f=Qi(l===0?0:n[l-1].index,d=>d+Math.floor((n[l].index-d)/2));s(u,f)},c=(u,l)=>{let f=Qi(l===n.length?t.length:n[l].index,d=>d-Math.floor((d-n[l-1].index)/2));s(u,f)};for(let u=r.length;u--;){let l=r.pop();if(!n.length)n.push(l);else{let f=-Cy(l.item.pos,{col:n,getKey:d=>d.item.pos})-1;f!==n.length&&n[f].index<l.index?i(l,f):f!==0&&n[f-1].index>l.index&&c(l,f),n.splice(f,0,l)}}return o};Yi.pivotSortMethod=wy});var Xi=p(Ji=>{var{aStarMethod:Ey}=Ki(),{pivotSortMethod:by}=Zi(),Sy=e=>e.length<20?Ey(e):by(e);Ji.findReorderPath=Sy});var rc=p(tc=>{var{IncGroups:qy}=_i(),{findReorderPath:Ry}=Xi(),{moveElement:ky}=$n(),{IterList:Py}=J(),{chain:Dy}=V(),{last:ec}=j(),_y=()=>{let e=null,t=null;return{push:(r,n)=>{t==null&&(t=[],e=qy()),t.push(r),e.push(n)},compile:()=>{if(t?.length)if(e.hasMultiple()){let r=e.toArray(),n=Ry(r),o=r.map(i=>{let c=t.slice(0,i.count);return t.splice(0,i.count),c}),s=Oy(o,n);return{beforeDomRange:Dy(s.first.value.current,i=>({from:i[0][0].from,to:ec(ec(i)).to})),actions:s}}else return{beforeDomRange:{from:t[0].from,to:t[t.length-1].to}};else return null}}};tc.ReorderPlan=_y;function Oy(e,t){let r=Py();for(let n=0;n<t.length;n++){let o=t[n];e=ky(o.from,o.to,e),r.unshift({current:e,move:{from:o.to>o.from?o.to-1:o.to,to:o.to<o.from?o.from+1:o.from}})}return r}});var fr=p(nc=>{var Ay=e=>({from:e,to:e});nc.singleDomRange=Ay});var sc=p(Ut=>{var{singleIterList:oc}=J(),{singleDomRange:My}=fr(),Ny=e=>({removes:oc(e)});Ut.wrapRemove=Ny;var Uy=e=>({domRanges:{afterRemove:e,afterReorder:e,afterInsert:e}});Ut.wrapInertPassive=Uy;var Iy=e=>{let t=My(e);return{addings:{toEnds:oc(e)},domRanges:{afterRemove:null,afterReorder:null,afterInsert:t}}};Ut.wrapNewDom=Iy;var Vy=e=>({domRanges:{afterRemove:e,afterReorder:e,afterInsert:e}});Ut.wrapUpdateDom=Vy});var pr=p(ic=>{var $y=(e,t)=>t==null?e??null:e==null?t:(e.pushList(t),e);ic.mergeList=$y});var lc=p(uc=>{var{IterList:Ty}=J(),{mergeList:cc}=pr(),Ly=()=>Object.create(jy);uc.AddingsBuilder=Ly;var jy={push(e){e.domRanges?.afterReorder&&this.toEnds&&(this.inserts||(this.inserts=Ty()),this.inserts.push({doms:this.toEnds,beforeDom:e.domRanges.afterReorder.from}),this.toEnds=null),e.addings&&(this.inserts=cc(this.inserts,e.addings.inserts),this.toEnds=cc(this.toEnds,e.addings.toEnds))},build(){return!this.inserts&&!this.toEnds?null:{inserts:this.inserts,toEnds:this.toEnds}}}});var pc=p(fc=>{var{mergeList:Tn}=pr(),{AddingsBuilder:zy}=lc(),By=()=>{let e=Object.create(Fy);return e.addingsB=zy(),e.reorderActions=null,e.removes=null,e.onDones=null,e.domRangesB=Gy(),e};fc.UpBuilder=By;var Fy={push(e){this.addingsB.push(e),this.reorderActions=Tn(this.reorderActions,e.reorderActions),this.onDones=Tn(this.onDones,e.onDones),this.removes=Tn(this.removes,e.removes),this.domRangesB.push(e.domRanges)},build(){return{addings:this.addingsB.build(),reorderActions:this.reorderActions,removes:this.removes,onDones:this.onDones,domRanges:this.domRangesB.build()}}},ac=(e,t)=>t?e?(e.to=t.to,e):Object.assign({},t):e,Gy=()=>{let e=null,t=null;return{push:r=>{!r||(e=ac(e,r.afterReorder),t=ac(t,r.afterInsert))},build:()=>!e&&!t?null:{afterReorder:e,afterInsert:t}}}});var It=p(yc=>{var{IterList:Ln}=J(),{ReorderPlan:dc}=rc(),{singleDomRange:mc}=fr(),{wrapNewDom:Hy,wrapUpdateDom:Wy,wrapInertPassive:Ky,wrapRemove:hc}=sc(),{UpBuilder:Qy}=pc(),{mergeList:vc}=pr(),Yy=e=>{let t=Object.create(Zy);return t.onDone=e,t.reorderPlan=null,t.onDones=null,t.entries=Ln(),t.upBuilder=Qy(),t.finish=t.finish.bind(t),t};yc.PassiveLoop=Yy;var Zy={onCreated(e){if(e.getDom){let t=e.getDom();this.upBuilder.push(Hy(t)),this.entries.push(t)}else{let t=e.retrieveUpdatePackage();if(t){this.upBuilder.push(t);let r=this.entries.push(t.domRanges?.afterInsert?.from);this.onDones||(this.onDones=Ln()),this.onDones.push(()=>e.mounting.setMounted(r,t.domRanges?.afterInsert))}else e.mounting.setMounted(this.entries.push(null),null)}},onUpdated(e,t){let r;if(e.getDom){let n=e.getDom(),o=mc(n);r=Wy(o),this.reorderPlan||(this.reorderPlan=dc()),this.reorderPlan.push(o,t),this.entries.push(n)}else r=e.retrieveUpdatePackage(),r||(r=Ky(e.mounting.getDomRange())),this.entries.pushEntry(e.mounting.getEntry()),this.onDones||(this.onDones=Ln()),this.onDones.push(()=>{e.mounting.setDomRange(r.domRanges?.afterInsert)}),r.domRanges?.afterRemove&&(this.reorderPlan||(this.reorderPlan=dc()),this.reorderPlan.push(r.domRanges.afterRemove,t));this.upBuilder.push(r)},onRemove(e){if(e.getDom)this.upBuilder.push(hc(mc(e.getDom())));else{let t=e.mounting.getDomRange();t&&this.upBuilder.push(hc(t))}},finish(){let e=this.upBuilder.build();this.onDones&&(e.onDones=vc(e.onDones,this.onDones));let t=this.reorderPlan?.compile();return t&&(e.reorderActions=vc(e.reorderActions,t.actions),e.domRanges.afterRemove=t.beforeDomRange),this.onDone?.(e),e}}});var dr=p(jn=>{var Jy=(e,t,r)=>{if(e&&!t)throw 230596574;for(let n;;){if(!e)return;if(e===t){r(e);return}else n=e,e=e.nextSibling,r(n)}};jn.iterDoms=Jy;var Xy=(e,t,r)=>{for(let n;;){if(!t)return;if(t===e){r(t);return}else n=t,t=t.previousSibling,r(n)}};jn.iterDomsR=Xy});var mr=p(Cc=>{var{iterDoms:gc}=dr(),{last:xc}=j(),eg=(e,t,r)=>{if(r.removes?.forEach(n=>{gc(n.from,n.to,o=>o.remove())}),r.reorderActions?.forEach(n=>{let o=n.move.to===n.current.length?xc(xc(n.current)).to.nextSibling:n.current[n.move.to][0].from;for(let s of n.current[n.move.from])gc(s.from,s.to,i=>{o?e.insertBefore(i,o):e.appendChild(i)})}),r.addings&&!window.noAdd){let n;if(r.addings.inserts?.forEach(o=>{n=document.createDocumentFragment(),o.doms.forEach(s=>{n.appendChild(s)}),e.insertBefore(n,o.beforeDom)}),r.addings.toEnds){n=document.createDocumentFragment(),r.addings.toEnds.forEach(s=>{n.appendChild(s)});let o=r.domRanges.afterReorder?r.domRanges.afterReorder.to.nextSibling:t?.();o?e.insertBefore(n,o):e.appendChild(n)}delete r.addings}r.onDones?.forEach(n=>n())};Cc.execUp=eg});var Vt=p(wc=>{var tg=(e,t,r)=>{let{types:n}=zn();return n.find(o=>o.check(e)).toChild(e,t,r)};wc.createActiveChild=tg});var bc=p(Bn=>{var{ensureArray:rg}=H(),{matchElement:ng}=$t(),{getNamespace:og}=At(),{createPassiveController:sg}=hr(),{PassiveLoop:ig}=It(),{execUp:cg}=mr(),{createActiveChild:ug}=Vt(),{iterDoms:lg}=dr(),ag=({props:e,dom:t})=>{let r=e.children;e=null;let n,o,s=og(t.tagName);return{acceptPropagation:Ec,matchElement:ng,mounting:{getDomRange:()=>null,getEntry:()=>n,setDomRange:()=>{},setMounted:i=>{n=i}},retrieveUpdatePackage:()=>({domRanges:{}}),applyUpdates:({propagationRequest:i})=>(i&&(r=i.element.props.children),{propagation:{elements:rg(r)}}),createLoop:()=>ig(i=>{o=i.domRanges.afterInsert,cg(t,null,i)}),createActiveChild:(i,c)=>ug(i,{namespace:s,parentDom:t},c),createPassiveChild:i=>sg({namespace:s,parentDom:t},i),selfDispose:()=>{o&&lg(o.from,o.to,i=>i.remove())}}};Bn.PortalController=ag;var Ec=e=>e&&e.$$r2_portal;Bn.validPortalElement=Ec});var Dc=p(Pc=>{var{PassiveLoop:vr}=It(),{remove1Mutate:fg}=j(),{IterList:Sc,singleIterList:pg}=J(),{iterDoms:dg}=dr(),mg=e=>{let t=null,r=e?qc():kc();return{setMuting:n=>{e=n,e?r=vg(r,o=>r=o):r=hg(r,o=>r=o)},escalateUpdate:(n,o)=>r.escalateUpdate(n,o),published:{mounting:{getDomRange:()=>r.getDomRange(),setDomRange:n=>r.setDomRange(n),getEntry:()=>t,setMounted:(n,o)=>{t=n,r.setDomRange(o)}},retrieveUpdatePackage:()=>r.retrieveUpdatePackage(),createLoop:()=>r.createLoop()}}};Pc.EvilLord=mg;var qc=(e=[])=>({getDoms:()=>e,getDomRange:()=>null,setDomRange:()=>{},createLoop:()=>vr(t=>{Rc(t,e),t.onDones?.forEach(r=>r())}),retrieveUpdatePackage:()=>({domRanges:{}}),escalateUpdate:(t,r)=>{if(t.addings?.inserts?.forEach(n=>{let o=e.indexOf(n.beforeDom);if(o>-1)e.splice(o,0,...n.doms);else throw"I don't know where you are"}),t.addings.toEnds?.isNotEmpty()){let n=r(),o=e.indexOf(n);o>-1?e.splice(o,0,...t.addings.toEnds.toArray()):t.addings.toEnds.forEach(s=>e.push(s))}}}),Rc=(e,t)=>{e.addings?.inserts?.forEach(()=>{throw 24235}),e.addings?.toEnds?.forEach(t.push.bind(t)),e.reorderActions?.forEach(()=>{throw 34624690}),e.removes?.forEach(r=>fg(t,r))},hg=(e,t)=>{let r=e.getDoms(),n=Sc();return{getDomRange:()=>null,setDomRange:()=>{},retrieveUpdatePackage:()=>{let o=r.length?{from:r[0],to:r[r.length-1]}:null;t(kc(o));let s=Sc();return r.forEach(s.push.bind(s)),{onDones:n,addings:{toEnds:s},domRanges:{afterInsert:o}}},createLoop:()=>vr(o=>{Rc(o,r),n.pushList(o.onDones)})}},vg=(e,t)=>{let r=e.getDomRange(),n=null;return{getDomRange:()=>r,setDomRange:()=>r,retrieveUpdatePackage:()=>(n.onDones.push(()=>{let o=[],s=n.domRanges.afterInsert;s&&dg(s.from,s.to,i=>o.push(i)),t(qc(o))}),{removes:pg(r),onDones:n.onDones,domRanges:{}}),createLoop:()=>vr(o=>{n=o,o.onDones.forEach(s=>s())})}},kc=(e=null)=>{let t=null;return{getDomRange:()=>e,setDomRange:r=>{e=r},retrieveUpdatePackage:()=>{let r=t;return t=null,r},createLoop:()=>vr(r=>{t=r})}}});var Oc=p(Fn=>{var{matchElement:yg}=$t(),{createActiveChild:gg}=Vt(),{createPassiveController:xg}=hr(),{ensureArray:Cg}=H(),{EvilLord:wg}=Dc(),Eg=({muting:e,next:t},r)=>{let n=wg(e),o={...r,isMuted:()=>e||r.isMuted?.(),escalateUpdate:n.escalateUpdate};return{...n.published,applyUpdates:({propagationRequest:s})=>(s&&(t=s.element.next,s.element.muting!==e&&(e=s.element.muting,n.setMuting(e))),{propagation:{elements:Cg(t())}}),matchElement:yg,createActiveChild:(s,i)=>gg(s,o,i),createPassiveChild:s=>xg(o,s),acceptPropagation:_c}};Fn.MutedController=Eg;var _c=e=>e&&e.$_r2_muted_dom;Fn.validMutedElement=_c});var zn=p(Ac=>{var{createActiveDomController:bg,validDomElement:Sg}=yr(),{createActiveTextController:qg,validTextElement:Rg}=Nn(),{validPortalElement:kg,PortalController:Pg}=bc(),{getNamespace:Dg}=At(),{validMutedElement:_g,MutedController:Og}=Oc(),Ag=[{check:Sg,toChild:(e,{namespace:t}={},r)=>{t=t??Dg(e.type);let n=t?document.createElementNS(t,e.type):document.createElement(e.type);return bg(n,{namespace:t},e,r)}},{check:Rg,toChild:e=>qg(document.createTextNode(e),e)},{check:kg,toChild:Pg},{check:_g,toChild:Og}];Ac.types=Ag});var $t=p(Mc=>{var{cache0:Mg}=lr(),Ng=Mg(()=>{let{types:e}=zn();return e}),Ug=e=>Ng().find(t=>t.check(e));Mc.matchElement=Ug});var Uc=p(Nc=>{var Ig=e=>{let t=null,r=null,n=s=>{$g(s,r)||(e.reindexDomRange?.(r,s),r=s)},o=()=>Vg(t)??e.resolveNextDom?.();return{resolveNextDom:o,childParams:{resolveNextDom:o,reindexDomRange:(s,i)=>{if(!i&&!r)throw"Should never happen";if(i&&!r)e.reindexDomRange?.(r,i),r=i;else if(!i&&r){if(s){if(s.to===r.to)if(s.from===r.from)e.reindexDomRange?.(r,i),r=i;else{let c={from:r.from,to:s.from.previousSibling};e.reindexDomRange?.(r,c),r=c}else if(s.from===r.from){let c={from:s.to.nextSibling,to:r.to};e.reindexDomRange?.(r,c),r=c}}}else{let c=!1,u=!1;if(s?.from===r.from&&i.from!==r.from&&(c=!0),s?.to===r.to&&i.to!==r.to&&(u=!0),c||u){let l={from:c?i.from:r.from,to:u?i.to:r.to};e.reindexDomRange?.(r,l),r=l}}}},setAndVerifyDomRange:n,published:{getDomRange:()=>r,getEntry:()=>t,setDomRange:s=>{r=s},setMounted:(s,i)=>{t=s,r=i}}}};Nc.Mounting=Ig;var Vg=e=>{let t=e.next;for(;t;){if(t.value)return t.value;t=t.next}},$g=(e,t)=>!e&&!t?!0:!e||!t?!1:!(e.from!==t.from||e.to!==t.to)});var hr=p($c=>{var{matchElement:Tg}=$t(),{createActiveChild:Lg}=Vt(),{PassiveLoop:Ic}=It(),{execUp:jg}=mr(),{Mounting:zg}=Uc(),Vc=e=>{let t=zg(e),r=Object.assign({},e,t.childParams),n=null;return{mounting:t.published,retrieveUpdatePackage:()=>{let o=n;return n=null,o},createLoop:o=>Ic(o?s=>{t.setAndVerifyDomRange(s.domRanges?.afterInsert),e.isMuted?.()?e.escalateUpdate(s,t.resolveNextDom):jg(e.parentDom,t.resolveNextDom,s)}:s=>{n=s}),matchElement:Tg,createActiveChild:(o,s)=>Lg(o,r,s),createPassiveChild:o=>Vc(r,o)}};$c.createPassiveController=Vc});var Gn=p(Tc=>{var Bg=e=>(t,{dom:r,skip1stPass:n})=>(t!=null&&!n&&r.setAttribute(e,t),{update:o=>{o!==t&&(t=o,t!=null?r.setAttribute(e,t):r.removeAttribute(e))},dispose:()=>{t!=null&&r.removeAttribute(e)}});Tc.defaultType=Bg});var jc=p(Lc=>{var Fg=["height","width","top","left","bottom","right","paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","fontSize"];Lc.pxAttrs=Fg});var Fc=p(Bc=>{var{AttrsUpdater:Gg}=Cn(),{arrMapToO:Hg}=z(),{pxAttrs:Wg}=jc(),Kg=(e,{dom:t,skip1stPass:r})=>{let n=()=>Gg({createNewAttrUpdater:(s,i)=>(Zg[s]??Qg(s))(i,{dom:t,skip1stPass:r})}),o=n();return o.update(e),{update:s=>{s?(o||(o=n()),o.update(s)):(o.dispose(),o=null)},dispose:()=>{t.removeAttribute("style")}}};Bc.styleType=Kg;var Qg=e=>(e=zc[e]??e,(t,{dom:r,skip1stPass:n})=>{let o=r.style,s=(()=>{let i=e.startsWith("--");return c=>{i?o.setProperty(e,c):o[e]=c}})();return n||s(t),{update:i=>{t!==i&&(t=i,s(t))},dispose:()=>{r.style.removeProperty(e)}}}),zc={float:"cssFloat",zIndex:"z-index",paddingTop:"padding-top"},Yg=e=>(e=zc[e]??e,(t,{dom:r,skip1stPass:n})=>(n||(r.style[e]=typeof t=="number"?t+"px":t),{update:o=>{t!==o&&(t=o,r.style[e]=typeof t=="number"?t+"px":t)},dispose:()=>{r.style.removeProperty(e)}})),Zg=Hg(Wg,Yg)});var Hc=p(Gc=>{var{cache0:Jg}=lr(),Xg=({isSchedulerEmpty:e,dom:t})=>{let r,n,o=Jg(()=>{let s=i=>{n&&r?(r.value=t.value,n.value(i),e()&&(t.value=r.value)):n?n.value(i):t.value=r.value};t.addEventListener("input",s,{capture:!0})});return{value:s=>(r={value:s},s=null,t.value=r.value,o(),{update:i=>{r.value!==i&&(r.value=i,r.value.length===i.length?ex(i,t):t.value=r.value)},dispose:()=>{r=null,t.removeAttribute("value")}}),onChange:s=>(n={value:s},s=null,o(),{update:i=>{n.value=i},dispose:()=>{n=null}})}};Gc.valueOnchange=Xg;var ex=(e,t)=>{let r={};r.selectionStart=t.selectionStart,r.selectionEnd=t.selectionEnd,r.scrollLeft=t.scrollLeft,r.scrollTop=t.scrollTop,t.value=e,t.selectionStart=r.selectionStart,t.selectionEnd=r.selectionEnd,t.scrollLeft=(()=>{let n=t.scrollWidth-t.clientWidth;return r.selectionEnd===e.length&&r.scrollLeft>n-7?n:r.scrollLeft})(),t.scrollTop=r.scrollTop}});var Kc=p(Wc=>{var tx=e=>(t,{dom:r,skip1stPass:n})=>(n||(r[e]=t),{update:o=>{t!==o&&(t=o,r[e]=t)},dispose:()=>{r.removeAttribute(e)}});Wc.booleanType=tx});var Xc=p(Y=>{var{chain:Pq}=V(),Qc=(e,t=2)=>{for(e=""+e;e.length<t;)e="0"+e;return e};Y.paddingLeft=Qc;Y.paddingLeft1=Qc;var rx=(e,t=2)=>Yc(e,{length:t});Y.paddingRight=rx;var Yc=(e,{length:t=2,padChar:r="0"}={})=>(typeof e!="string"&&(e=""+e),e+r.repeat(Math.max(0,t-e.length)));Y.paddingRight2=Yc;var nx=function(e){let t="";for(let r=e.length-1;r>-1;r--)t+=e[r];return t};Y.reverse=nx;var Zc=function(e){let t=0,r,n;if(e.length===0)return t;for(r=0;r<e.length;r++)n=e.charCodeAt(r),t=(t<<5)-t+n,t|=0;return t<0?-t:t};Y.hashCode=Zc;var ox=(e,t)=>e[Zc(t)%e.length];Y.selectByHash=ox;var sx=(...e)=>{for(let t=0;;t++){if(e[0]==null?t===0:t===e[0].length)return e[0];for(let r of e)if(r!=null&&r[t]!==e[0][t])return e[0].substring(0,t)}};Y.commonStart=sx;var ix=e=>e[0].toUpperCase()+e.substring(1);Y.upperCase1=ix;var cx=e=>e[0].toLowerCase()+e.substring(1);Y.lowerCase1=cx;var Jc=e=>e!=null&&typeof e=="string"&&e.trim()!=="";Y.isNotBlank=Jc;var ux=e=>e.replace(/\s{2,}/g," ");Y.deepTrim=ux;var lx=e=>!Jc(e);Y.isBlank=lx;var ax=(e,t)=>{let r=0,n=0;for(let o;(o=t.indexOf(e,r))>-1;)n++,r=o+e.length;return n};Y.countHappens=ax;var fx=(e,t)=>{let r="";for(let n=0;n<t;n++)r+=e;return r};Y.createString=fx});var tu=p(eu=>{var px=(e,t)=>(r,{dom:n})=>{let o=s=>r(s);return n.addEventListener(e,o,t),{update:s=>r=s,dispose:()=>{n.removeEventListener(e,o)}}};eu.eventType=px});var nu=p(ru=>{var{upperCase1:dx}=Xc(),{arrMapToO:mx}=z(),{eventType:hx}=tu(),vx=[{name:"blur"},{name:"click"},{name:"double click",domEventName:"dblclick"},{name:"drag over"},{name:"drag enter"},{name:"drag leave"},{name:"drop"},{name:"mouse down"},{name:"mouse up"},{name:"mouse move"},{name:"mouse enter"},{name:"mouse leave"},{name:"mouse over"},{name:"mouse out"},{name:"context menu"},{name:"wheel"},{name:"touch start",options:{passive:!0}},{name:"touch end",options:{passive:!0}},{name:"touch cancel",options:{passive:!0}},{name:"touch move",options:{passive:!0}},{name:"focus"},{name:"input"}],yx=({name:e,domEventName:t})=>t||e.split(" ").join("").toLowerCase(),gx=e=>{let t=e.split(" ");return"on"+t.map(r=>dx(r)).join("")},xx=mx(vx,e=>hx(yx(e),e.options),e=>gx(e.name));ru.eventTypes=xx});var su=p(ou=>{var{arrMapToO:Cx}=z(),{defaultType:wx}=Gn(),{styleType:Ex}=Fc(),{valueOnchange:bx}=Hc(),{booleanType:Sx}=Kc(),{eventTypes:qx}=nu(),Rx={className:wx("class"),...Cx(["disabled","checked","readonly"],Sx),...qx,style:Ex},kx=({isSchedulerEmpty:e,dom:t})=>{let r=bx({isSchedulerEmpty:e,dom:t});return{getType:n=>r[n]??Rx[n]}};ou.AttrTypes=kx});var yr=p(Wn=>{var{AttrsUpdater:Px}=Cn(),{omit:iu}=z(),{ensureArray:Dx}=H(),{createPassiveController:_x}=hr(),{matchElement:Ox}=$t(),{createActiveChild:Ax}=Vt(),{isValidElement:Mx}=Q(),{AttrTypes:Nx}=su(),{defaultType:Ux}=Gn(),{PassiveLoop:Ix}=It(),{execUp:Vx}=mr(),cu=e=>e&&Mx(e)&&typeof e.type=="string";Wn.validDomElement=cu;var $x=(e,{namespace:t}={},{props:r={},key:n,ref:o,type:s}={},{skipRawAttrs:i,isSchedulerEmpty:c}={})=>{let u=r.children,l=Nx({isSchedulerEmpty:c,dom:e}),f=Px({createNewAttrUpdater:(d,h)=>(l.getType(d)??Ux(d))(h,{dom:e,skip1stPass:i})});return f.update(iu(r,["children"]),{skipRawAttrs:i}),r=void 0,{getDom:()=>e,key:n,acceptPropagation:d=>cu(d)&&d.key===n&&s===d.type,matchElement:Ox,applyUpdates:({propagationRequest:d})=>(d&&(u=d.element.props.children,o=d.element.ref),o&&Hn(null,o),d&&f.update(iu(d.element.props,["children"])),o&&Hn(e,o),{propagation:{elements:Dx(u)}}),createLoop:()=>Ix(d=>{Vx(e,null,d)}),createActiveChild:(d,h)=>Ax(d,{namespace:t,parentDom:e},h),createPassiveChild:d=>_x({namespace:t,parentDom:e},d),selfDispose:()=>{o&&Hn(null,o)}}};Wn.createActiveDomController=$x;var Hn=(e,t)=>{if(t!=null)if(typeof t=="function")t(e);else if(t.hasOwnProperty("current"))t.current=e;else throw console.log("ref",t),"Unsupported ref "+t}});var Kn=p(uu=>{var{createActiveDomController:Tx}=yr(),{getNamespace:Lx}=At(),jx=({dom:e})=>({...Tx(e,{namespace:e&&Lx(e.tagName)}),rootDestroy:()=>{for(let t;t=e.lastChild;)t.remove()}});uu.DomRootController=jx});var Qn=p(lu=>{var{singleIterList:zx}=J(),Bx=(e,t)=>{let r=zx(e);for(;r.isNotEmpty();){let n=r.shift();t(n),r.pushList(n.childNodes)}};lu.eachNodeRecursively=Bx});var gr=p(au=>{var{last:Fx}=j(),{ensureArray:Gx}=H(),{eachNodeRecursively:Hx}=Qn(),Wx=({controllers:e})=>{let t={activeController:Kx,controllers:e,level:0,createUpdate:r=>({node:t,request:{elements:r}}),destroy:()=>{for(let r of e)r.rootDestroy?.();Hx(t,r=>r.activeController.selfDispose?.()),t.childNodes=null}};return t};au.createRootNode=Wx;var Kx={applyUpdates:({updateRequests:e})=>({propagation:{elements:Gx(Fx(e).elements)}})}});var pu=p(fu=>{var{sort:Qx}=j(),{binarySearch:Yx}=ar(),{chain:Zx}=V(),Jx=e=>{e=Qx(e,r=>r.node.level);let t=r=>{let n=[];for(let o=0;o<e.length;o++){let s=e[o];if(s.node===r)n.push(s.request),e.splice(o,1),o--;else if(s.level>r.level)break}return n};return{isEmpty:()=>!e.length,extractRequests:t,shift:()=>{let r=e.shift(),n=t(r.node);return{node:r.node,requests:[r.request].concat(n)}},appendUpdate:r=>{let n=Zx(Yx(r.node.level,{col:e,getKey:o=>o.node.level}),o=>o>-1?o:-o-1);e.splice(n,0,r)}}};fu.UpdateGroup=Jx});var hu=p(mu=>{var{CutPoint:Xx}=Mt(),{IterList:du}=J(),e0=(e,t,{onCreateNode:r,onUpdateNode:n})=>{if(!e?.length)return null;if(t?.isNotEmpty()){let o=Xx(t),s=0,i=du();for(let c of e){let u=o?.peek();u&&n(u,c,s)?(o.cut(),t.isEmpty()&&(o=null),i.push(u)):(o?.forward()&&(o=null),i.push(r(c))),s++}return i}else{let o=du();for(let s of e)o.push(r(s));return o}};mu.directMatcher=e0});var xu=p(gu=>{var{IterList:vu}=J(),{CutPoint:yu}=Mt(),t0=e=>{let t=vu(),r=vu();return r.pushList(e),t.push({index:0,list:r}),{findAndRemove:n=>{let o=yu(t);for(;!o.endReached();){let s=o.peek(),i=yu(s.list);for(let c=0;!i.endReached();c++){let u=i.peek();if(n(u,s.index+c)){if(i.cut(),c===0)s.list.isEmpty()?o.cut():(s.index++,o.isFirst()||(o.cut(),t.unshift(s)));else if(!i.endReached()){let l=i.cutToNewList(),f={index:s.index+c+1,list:l};t.unshift(f)}return!0}else i.forward()}o.forward()}},eachList:n=>t.forEach(o=>n(o.list))}};gu.IndexedExhaustBasket=t0});var wu=p(Cu=>{var{IndexedExhaustBasket:r0}=xu(),{IterList:n0}=J(),o0=(e,t,{onUpdateNode:r,onCreateNode:n})=>{if(!e)return null;let o=r0(t),s=n0();for(let i of e)o.findAndRemove((u,l)=>{if(r(u,i,l))return s.push(u),!0})||s.push(n(i));return t.empty(),o.eachList(t.pushList.bind(t)),s};Cu.rearrangeMatcher=o0});var Yn=p(bu=>{var{directMatcher:Eu}=hu(),{rearrangeMatcher:s0}=wu(),{IterList:i0}=J(),c0=(e,t,{onCreateNode:r,onUpdateNode:n,onRemoveNode:o})=>{let s=u0(e.childNodes)??Eu,i=e.childNodes??i0(),c=s(t,i,{onCreateNode:r,onUpdateNode:(u,l,f)=>{if(u?.activeController.acceptPropagation(l))return n(u,l,f),u}});i?.forEach(o),e.childNodes=c};bu.reconcilation=c0;var u0=e=>!e||e.isEmpty()||l0(e)?Eu:s0,l0=e=>{let t=e.first;for(let r=0;t&&r<30;r++){if(t.value.activeController.key==null)return!0;t=t.next}}});var qu=p(Su=>{var{IterList:a0}=J(),{CutPoint:f0}=Mt(),p0=(e,t)=>{let r=a0(),n=f0(r),o=c=>n.insert(c),s=!1;for(t(e?(c,u)=>{s?o(u):c<e?u(c+1):(s=!0,o(u))}:(c,u)=>o(u));!r.isEmpty();)s=!1,n.reset(),r.shift()(0)};Su.safeStack=p0});var ku=p(Ru=>{var d0=(e,{parentNode:t,onRequestUpdate:r,isSchedulerEmpty:n})=>{let o=h=>({node:d,request:h}),s=h=>r(o(h)),i=t.controllers.findIndex(h=>h.matchElement(e));if(i===-1)throw console.error("e",e),console.error("controllers",t.controllers),"Can't resolve controller";let c=null,u=t.controllers.map((h,y)=>y===i?null:h.createPassiveChild?.(c)??h),l=t.controllers[i],f=l.createActiveChild?.(e,{createUpdateRequest:o,onRequestUpdate:s,findPassiveController:h=>{for(let y=0;y<u.length;y++){if(y===i)continue;let x=h(u[y]);if(x)return x}},isSchedulerEmpty:n})??l;u[i]=f;let d={activeController:f,controllers:u,level:t.level+1};return d};Ru.createChildNode=d0});var Du=p(Pu=>{var m0=(e,t)=>{let r=!1,n=e.map(o=>{if(!!o.createLoop)return r=!0,o.createLoop(t)});return r?n:null};Pu.createLoopers=m0});var xr=p(Ou=>{var{UpdateGroup:h0}=pu(),{reconcilation:v0}=Yn(),{eachNodeRecursively:y0}=Qn(),{safeStack:g0}=qu(),{createChildNode:x0}=ku(),{createLoopers:C0}=Du(),w0=({updates:e,onRequestUpdate:t,isSchedulerEmpty:r})=>{let n=h0(e);e=null;let o=[];for(;!n.isEmpty();){let{node:s,requests:i}=n.shift(),c=E0({node:s,params:{updateRequests:i},isHost:!0},{updateGroup:n,onRequestUpdate:t,isSchedulerEmpty:r});c&&o.push(c)}return o.length?()=>o.forEach(s=>s()):null};Ou.renderUpdates=w0;var E0=(e,t)=>{let r=[];return g0(300,n=>{Zn(e,t,{addCommit:s=>r.push(s),onRequest:n})}),r.length?()=>{r.forEach(n=>n())}:null},_u=({node:e,params:t,isHost:r,onDone:n},o,s,i=0)=>{let c=e.activeController.applyUpdates(t);if(!c){n?.();return}let{propagation:u,jumpUpdates:l,onCommit:f}=c,{updateGroup:d,onRequestUpdate:h,isSchedulerEmpty:y}=o;if(f&&s.addCommit(f),l?.forEach(d.appendUpdate),u){let x=C0(e.controllers,r);v0(e,u.elements,{onCreateNode:C=>{let b=x0(C,{parentNode:e,onRequestUpdate:h,isSchedulerEmpty:y});return s.onRequest(i,A=>{Zn({node:b,params:{isFirstRun:!0},onDone:x&&(()=>{x.forEach((B,L)=>{B?.onCreated(b.controllers[L])})})},o,s,A)}),b},onUpdateNode:(C,b,A)=>{let B=d.extractRequests(C);s.onRequest(i,L=>{Zn({node:C,params:{propagationRequest:{element:b},updateRequests:B},onDone:x&&(()=>{x.forEach((U,I)=>{U?.onUpdated(C.controllers[I],A)})})},o,s,L)})},onRemoveNode:C=>{s.onRequest(i,()=>{x?.forEach((b,A)=>{b?.onRemove(C.controllers[A])}),y0(C,b=>b.activeController.selfDispose?.())})}}),(x||n)&&s.onRequest(i,()=>{x?.forEach(C=>C?.finish()),n?.()})}else n?.()},Zn=function(e){if(!e.node.activeController.applyUpdates)return;let t=e.node.controllers.find(r=>r.handleException)?.handleException;if(t)try{_u.apply(null,arguments)}catch(r){t(r)}else _u.apply(null,arguments)}});var Mu=p(eo=>{var{Fragment:b0}=Q(),{ensureArray:Au}=H(),Jn=e=>{let t=Au(e.props.children),r=e.key;return e=null,{matchElement:Xn.matchElement,createActiveChild:Jn,key:r,acceptPropagation:n=>Xn.matchElement(n)&&n.key===r,applyUpdates:({propagationRequest:n})=>(n&&(t=Au(n.element.props.children)),{propagation:{elements:t}})}};eo.FragmentActiveController=Jn;var Xn={matchElement:e=>e&&e.type&&(e.type.$_r2_fragment||e.type===b0),createActiveChild:Jn};eo.FragmentController=()=>Xn});var Vu=p(Iu=>{var Nu=e=>({matchElement:t=>t&&Array.isArray(t),createActiveChild:Nu,acceptPropagation:Uu.matchElement,applyUpdates:({propagationRequest:t})=>(t&&(e=t.element),{propagation:{elements:e}})}),Uu=(()=>({matchElement:e=>e&&Array.isArray(e),createActiveChild:Nu}))();Iu.ArrayController=()=>Uu});var ft=p($u=>{var S0=(()=>{let e=(()=>{}).__proto__;return t=>t.__proto__===e})();$u.isPureFunction=S0});var ju=p(Lu=>{var{isValidElement:q0}=Q(),{isPureFunction:R0}=ft(),{ensureArray:k0}=H(),{isEmpty:P0,omit:D0}=z(),Tu=({handleException:e,legacyContexts:t}={})=>({matchElement:r=>r&&q0(r)&&typeof r.type=="function"&&!R0(r.type)&&!r.type.$_r2_shadow,handleException:e,createActiveChild:(r,n)=>_0(r,{legacyContexts:t},e?Object.assign({},n,{handleException:e}):n)});Lu.ComponentController=Tu;var _0=(e,{legacyContexts:t},{onRequestUpdate:r,handleException:n,findPassiveController:o})=>{let s=e.type,{key:i,ref:c}=e,u=O0(s.defaultProps),l=I0(t,s.contextTypes),f=new s(e.props,l.getContext());f.props=u(e.props),f._r2_findPassiveController=o,s.childContextTypes&&f.getChildContext&&(t=(t??[]).concat([N0({getChildContext:()=>f.getChildContext(),childContextTypes:s.childContextTypes})])),e=null,f.updater={enqueueSetState:(h,y,x)=>{r({type:"setState",value:y,cb:x})},enqueueForceUpdate:(h,y)=>{r({type:"forceUpdate",cb:y})}},n=f.componentDidCatch?A0(f,s):n;let d=Tu({handleException:n,legacyContexts:t});return Object.assign({},d,{key:i,createPassiveChild:()=>d,applyUpdates:({propagationRequest:h,updateRequests:y=[],isFirstRun:x})=>{let C=[],b=!1,A=f.state,B=f.props,L=f.context;x&&(f.componentWillMount||f.UNSAFE_componentWillMount)&&(f.componentWillMount??f.UNSAFE_componentWillMount)?.apply(f);let U=M0(f);U&&C.push(U);for(let P of y)P.type==="setState"?typeof P.value=="function"?A=Object.assign({},A,P.value(A)):A=Object.assign({},A,P.value):P.type==="forceUpdate"&&(b=!0),P.cb&&C.push(P.cb);if(h&&(B=h.element.props,L=l.getContext(),c=h.element.ref),s.getDerivedStateFromProps){let P=s.getDerivedStateFromProps(B,A);P&&(A=Object.assign({},A,P))}B=u(B),!x&&f.componentWillReceiveProps!=null&&B!==f.props&&s.getDerivedStateFromProps==null&&f.componentWillReceiveProps(B,L);let I=!x&&!b&&!(f.shouldComponentUpdate?.(B,A,L)??!0);return I||(f.context=L,f.props=B,f.state=A),c&&(c(null),C.push(()=>c(f))),x&&f.componentDidMount&&C.push(f.componentDidMount.bind(f)),{propagation:I||!f.render?null:{elements:k0(f.render())},onCommit:C.length&&(()=>C.forEach(P=>P()))}},acceptPropagation:h=>d.matchElement(h)&&h.key===i&&h.type===s,selfDispose:()=>{c?.(null),f.componentWillUnmount?.(),l.dispose?.()}})},O0=e=>t=>t===void 0?e:t,A0=(e,t)=>r=>{t&&t.getDerivedStateFromError!=null&&e.setState(t.getDerivedStateFromError(r)),e.componentDidCatch!=null&&e.componentDidCatch(r)},M0=e=>{if(!e.componentDidUpdate)return null;let t=e.props,r=e.state,n=e.getSnapshotBeforeUpdate?.(t,r);return()=>{e.componentDidUpdate(t,r,n)}},N0=({getChildContext:e,childContextTypes:t})=>({childContextTypes:t,getChildContext:e}),U0={getContext:()=>({})},I0=(e,t)=>{if(!t||!e?.length)return U0;let r=(()=>{let n=[],o=t;for(let s=e.length-1;!P0(o)&&s>-1;s--){let i=e[s],c=Object.keys(o).filter(u=>i.childContextTypes[u]);o=D0(o,c),n.push({setValues:u=>{let l=i.getChildContext();for(let f of c)u[f]=l[f]}})}return n})();return{getContext:()=>{let n={};for(let o of r)o.setValues(n);return n}}}});var Fu=p(Bu=>{var V0=()=>({acceptPropagation:zu.matchElement}),zu=(()=>({matchElement:e=>e==null||e===!1||e===!0,createActiveChild:V0}))();Bu.NullController=()=>zu});var Wu=p(Hu=>{var{remove1Mutate:$0}=j(),T0=()=>{let e=[];return{eachValue:t=>e.forEach(r=>t(r.getValue())),matchElement:Gu,createActiveChild:t=>{let r=L0(t);return e.push(r),r.setDispose(()=>$0(e,r)),r}}};Hu.ShadowReturnRootController=T0;var L0=e=>{let t=e.props.collectValue,r=e.key;e=void 0;let n;return{setDispose:o=>n=o,getValue:()=>t,key:r,acceptPropagation:o=>Gu(o)&&r===o.key,applyUpdates:({propagationRequest:o})=>(o&&(t=o.element.props.collectValue),{}),selfDispose:()=>n()}},Gu=e=>e&&typeof e=="object"&&e.$_r2_return});var to=p(Qu=>{var Ku=({collectValue:e})=>({$_r2_return:!0,props:{collectValue:e}});Ku.$_r2_return=!0;Qu.ShadowReturn=Ku});var Zu=p(Yu=>{var j0=e=>{let t=null;return e.eachValue(r=>t=r(t)),t};Yu.extractShadowValues=j0});var Xu=p(Ju=>{var{ShadowReturn:ro}=to(),z0={accept:e=>ro({collectValue:B0(e)}),acceptName:e=>t=>ro({collectValue:F0(e,t)}),acceptValue:e=>ro({collectValue:G0(e)})};Ju.renderShadowParams=z0;var B0=e=>t=>t?(t.push(e),t):[e],F0=(e,t)=>r=>r==null?{[e]:t}:(r[e]=t,r),G0=e=>t=>e});var oo=p(no=>{var{isValidElement:H0}=Q(),{ensureArray:W0}=H(),{ShadowReturnRootController:K0}=Wu(),{createRootNode:Q0}=gr(),{renderUpdates:Y0}=xr(),{ShadowReturn:tR}=to(),{chain:Z0}=V(),{extractShadowValues:el}=Zu(),{renderShadowParams:J0}=Xu(),X0=(e,{onRequestUpdate:t,createUpdateRequest:r,isSchedulerEmpty:n,findPassiveController:o})=>{let s=Z0(o(i=>i.getAllContexts?.()),i=>i?.map(c=>Object.assign({},c,{registerListener:u=>c.registerListener(l=>{let f=u(l);return r(f)})})));return tl(e,{onRequestUpdate:t,contexts:s,isSchedulerEmpty:n})},tl=(e,{onRequestUpdate:t,contexts:r,isSchedulerEmpty:n})=>{let{renderShadow:o,next:s}=e.props,i=e.key;e=void 0;let c=K0(),{createBaseControllers:u}=wr(),l=Q0({controllers:[...u({contexts:r}),c]});return Object.assign({},Cr,{key:i,acceptPropagation:f=>Cr.matchElement(f)&&i===f.key,createPassiveChild:()=>Cr,applyUpdates:({propagationRequest:f,updateRequests:d,isFirstRun:h})=>{f&&(o=f.element.props.renderShadow,s=f.element.props.next);let y=!f&&!h?d:[l.createUpdate(o(J0))].concat(d??[]),x=Y0({updates:y,onRequestUpdate:t,isSchedulerEmpty:n});return{propagation:{elements:W0(s?.(el(c)))},onCommit:x}},getValues:()=>el(c),selfDispose:()=>l.destroy()})};no.ShadowActiveController1=tl;var eC=()=>({matchElement:e=>e&&H0(e)&&e.type.$_r2_shadow,createActiveChild:X0}),Cr=eC();no.ShadowController=()=>Cr});var ol=p(nl=>{var{isValidElement:tC}=Q(),{ensureArray:rC}=H(),{addRemove:nC}=j(),{isPureFunction:oC}=ft(),rl=({contexts:e=[]}={})=>({matchElement:t=>t&&tC(t)&&(t.type.$$typeof===Symbol.for("react.provider")||oC(t.type)&&t.type._contextRef),getAllContexts:()=>e,registerContextListener:({context:t,createUpdateRequest:r})=>{let n=e.find(o=>o.context===t);if(n){let o=n.registerListener(r);return{getValue:n.getValue,removeListener:o}}},createActiveChild:t=>sC(t,e)});nl.ContextController=rl;var sC=(e,t)=>{let{key:r,type:n}=e,{children:o,value:s}=e.props;e=null;let i=[],c=t.filter(l=>l.context!==(n._context??n._contextRef._id)).concat([{context:n._context??n._contextRef._id,getValue:()=>s,registerListener:nC(i)}]),u=rl({contexts:c});return Object.assign({},u,{key:r,acceptPropagation:l=>u.matchElement(l)&&l.key===r&&(l.type._context===n._context||l.type._contextRef._id===n._contextRef._id),applyUpdates:({propagationRequest:l})=>(l&&(o=l.element.props.children,s=l.element.props.value),{propagation:{elements:rC(o)},jumpUpdates:i.map(f=>f(s))})})}});var il=p(sl=>{var{isValidElement:iC}=Q(),{ensureArray:cC}=H(),{isPureFunction:uC}=ft(),lC=(e,{createUpdateRequest:t,findPassiveController:r})=>{let{key:n,type:o}=e,{children:s}=e.props;e=null;let i=r(l=>l.registerContextListener?.({context:o._context??o.contextType?._id,createUpdateRequest:t})),c=i?.getValue();return Object.assign({},Er,{key:n,acceptPropagation:l=>Er.matchElement(l)&&l.key===n&&(l.type._context===o._context||l.type.contextType._id===o.contextType._id),createPassiveChild:()=>Er,applyUpdates:({propagationRequest:l,updateRequests:f})=>(l&&(s=l.element.props.children),i&&f?.length&&(c=i.getValue()),{propagation:{elements:cC(s(c))}}),selfDispose:i&&(()=>{i?.removeListener()})})},aC=()=>({matchElement:e=>e&&iC(e)&&(e.type.$$typeof===Symbol.for("react.context")||uC(e.type)&&e.type.contextType),createActiveChild:lC}),Er=aC();sl.ConsumerController=()=>Er});var ul=p(cl=>{var fC=({onRequestUpdate:e})=>{let t;return{setup1:()=>{let r=[];return{hook:n=>{r.push(n);let o=r.length-1;return[n,s=>e({type:"setState",newValue:s,stateIndex:o})]},commit:()=>{r.length&&(t=r)}}},setup2:r=>{if(!t)return null;for(let o of r)o.type==="setState"&&(t[o.stateIndex]=o.newValue);let n=0;return()=>{let o=n++;return[t[o],s=>e({type:"setState",newValue:s,stateIndex:o})]}}}};cl.StateHook=fC});var al=p(ll=>{var iR=Q(),pC=(e,t,r,n)=>{let o=n.current;try{return n.current=e,t()}finally{r?.(),n.current=o}};ll.swapDispatcher=pC});var pl=p(fl=>{var{arrEquals:dC}=j(),mC=()=>{let e;return{setup1:()=>{let t=[];return{hook:(r,n)=>{t.push({fn:r,watches:n})},commit:()=>{!t.length||(t.forEach(r=>{r.cleanup=r.fn()}),e=t)}}},setup2:()=>{if(!e)return;let t=0,r=[];return{hook:(n,o)=>{let s=t++,i=e[s];i.fn=n,r.push(()=>{dC(i.watches,o)||(i.watches=o,i.cleanup?.(),i.cleanup=i.fn())})},commit:()=>{r.forEach(n=>n())}}},dispose:()=>{e?.forEach(t=>{t.cleanup?.()})}}};fl.EffectHook=mC});var ml=p(dl=>{var hC=({createUpdateRequest:e,findPassiveController:t})=>{let r;return{setup1:()=>{let n=[];return{hook:o=>{let s=t(u=>u.registerContextListener?.({context:o,createUpdateRequest:()=>e({type:"context",index:c})})),i=s?.getValue();n.push({value:i,context:s});let c=n.length-1;return i},commit:()=>{n.length&&(r=n)}}},setup2:n=>{if(!r)return;for(let s of n)if(s.type==="context"){let i=r[s.index];i.value=i.context?.getValue()}let o=0;return()=>{let s=o++;return r[s].value}},dispose:()=>{r?.forEach(n=>n.context?.removeListener())}}};dl.ContextHook=hC});var vl=p(hl=>{var vC=({onRequestUpdate:e})=>{let t;return{setup1:()=>{let r=[];return{hook:(n,o,s)=>{let i=s?s(o):o;r.push({reducer:n,value:i});let c=r.length-1;return[i,u=>e({type:"reducer",action:u,reducerIndex:c})]},commit:()=>{r.length&&(t=r)}}},setup2:r=>{if(!t)return;for(let o of r)if(o.type==="reducer"){let s=t[o.reducerIndex];s.value=s.reducer(s.value,o.action)}let n=0;return()=>{let o=n++;return[t[o].value,s=>e({type:"reducer",action:s,reducerIndex:o})]}}}};hl.ReducerHook=vC});var gl=p(yl=>{var{arrEquals:yC}=j(),gC=()=>{let e;return{setup1:()=>{let t=[];return{hook:(r,n)=>{let o=r();return t.push({fn:r,value:o,watches:n}),o},commit:()=>{t.length&&(e=t)}}},setup2:()=>{if(!e)return;let t=0;return(r,n)=>{let o=t++,s=e[o];return s.fn=r,yC(s.watches,n)||(s.watches=n,s.value=s.fn()),s.value}}}};yl.MemoHook=gC});var Cl=p(xl=>{var xC=()=>{let e;return{setup1:()=>{let t=[];return{hook:r=>{t.push(r);let n=t.length-1;return Object.assign(o=>t[n]=o,{current:r})},commit:()=>{t.length&&(e=t)}}},setup2:()=>{if(!e)return;let t=0;return()=>{let r=t++,n=e[r];return Object.assign(o=>e[r]=o,{current:n})}}}};xl.RefHook=xC});var Sl=p(bl=>{var CC=Q(),{ensureArray:wl}=H(),{StateHook:wC}=ul(),{swapDispatcher:El}=al(),{EffectHook:EC}=pl(),{ContextHook:bC}=ml(),{ReducerHook:SC}=vl(),{MemoHook:qC}=gl(),{RefHook:RC}=Cl(),kC=({onRequestUpdate:e,createUpdateRequest:t,findPassiveController:r})=>{let n=CC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;if(!n)return null;let o=wC({onRequestUpdate:e}),s=SC({onRequestUpdate:e}),i=EC(),c=qC(),u=RC(),l=bC({createUpdateRequest:t,findPassiveController:r});return{run1:f=>{let d=i.setup1(),h=c.setup1(),y=s.setup1(),x=o.setup1(),C=l.setup1(),b=u.setup1(),A=h.hook;return El({useState:x.hook,useReducer:y.hook,useEffect:d.hook,useMemo:A,useCallback:(B,L)=>A(()=>B,L),useContext:C.hook,useRef:b.hook},()=>({propagation:{elements:wl(f())}}),()=>{x.commit(),y.commit(),d.commit(),h.commit(),b.commit(),C.commit()},n.ReactCurrentDispatcher)},run2:(f,d)=>{let h=i.setup2(),y=c.setup2(),x=l.setup2(f);return El({useState:o.setup2(f),useReducer:s.setup2(f),useEffect:h?.hook,useMemo:y,useCallback:(C,b)=>y(()=>C,b),useContext:x,useRef:u.setup2?.()},()=>({propagation:{elements:wl(d())}}),h?.commit,n.ReactCurrentDispatcher)},dispose:()=>{i.dispose(),l.dispose()}}};bl.createHooksSupport=kC});var Rl=p(ql=>{var{isValidElement:PC}=Q(),{isPureFunction:DC}=ft(),{createHooksSupport:_C}=Sl(),OC=(e,{onRequestUpdate:t,createUpdateRequest:r,findPassiveController:n})=>{let o=e.type,s=e.key,i=e.props,c=e.ref;e=null;let u=_C({onRequestUpdate:t,createUpdateRequest:r,findPassiveController:n});return Object.assign({},so,{key:s,applyUpdates:({propagationRequest:l,updateRequests:f=[],isFirstRun:d})=>(l&&(i=l.element.props,c=l.element.ref),u?d?u.run1(()=>o(i,c)):u.run2(f,()=>o(i,c)):o(i,c)),selfDispose:u?.dispose,acceptPropagation:l=>so.matchElement(l)&&l.key===s&&l.type===o})},AC=()=>({matchElement:e=>e&&PC(e)&&typeof e.type=="function"&&DC(e.type),createActiveChild:OC}),so=AC();ql.FunctionalController=()=>so});var Pl=p(kl=>{var MC=({muting:e,next:t})=>({$_r2_muted_dom:!0,muting:e,next:t});kl.MutedDom=MC});var Ol=p(_l=>{var{isValidElement:NC}=Q(),{ensureArray:br}=H(),{remove1Mutate:UC}=j(),{MutedDom:Dl}=Pl(),IC=(e,{onRequestUpdate:t})=>{let r=br(e.props.children),n=br(e.props.fallback),o=e.key;e=null;let s=[],i=!1,c=()=>{let u=!!s.find(l=>l.isStillWaiting());u!==i&&(i=u,t())};return Object.assign({},io,{key:o,acceptPropagation:u=>io.matchElement(u)&&u.key===o,applyUpdates:({propagationRequest:u})=>(u&&(r=br(u.element.props.children),n=br(u.element.props.fallback)),{propagation:{elements:i?[Dl({muting:!0,next:()=>r}),n]:[Dl({muting:!1,next:()=>r}),null]}}),registerSuspensePoint:u=>(s.push(u),{requestReevaluation:c,dispose:()=>{UC(s,u)}})})},VC=()=>({matchElement:e=>e&&NC(e)&&e.type===Symbol.for("react.suspense"),createActiveChild:IC}),io=VC();_l.SuspenseController=()=>io});var Ml=p(Al=>{var{ensureArray:$C}=H(),TC=(e,{onRequestUpdate:t,findPassiveController:r})=>{let{wait:n,next:o}=e.props;e=null;let s;n().then(c=>{s={value:c},t()}).catch(c=>{s={error:c}}),n=null;let i=r(c=>c.registerSuspensePoint?.({isStillWaiting:()=>s==null}));return Object.assign({},co,{acceptPropagation:co.matchElement,applyUpdates:({propagationRequest:c,updateRequests:u,isFirstRun:l})=>(c&&(o=c.element.props.next),{propagation:{elements:s&&$C(o(s))},onCommit:(l||u)&&(()=>i.requestReevaluation())}),selfDispose:i?.dispose})},LC=()=>({matchElement:e=>e&&e.$_r2_wait,createActiveChild:TC}),co=LC();Al.WaitController=()=>co});var Ul=p(Nl=>{var{isValidElement:jC,createElement:zC}=Q(),BC=e=>{let t=e.type,r=e.key,n=e.props,o=e.ref;return e=null,Object.assign({},uo,{key:r,applyUpdates:({propagationRequest:s})=>(s&&(n=s.element.props,o=s.element.ref),{propagation:{elements:[zC(t.render,Object.assign({},n,{ref:o}))]}}),acceptPropagation:s=>uo.matchElement(s)&&s.key===r&&s.type===t})},FC=()=>({matchElement:e=>e&&jC(e)&&e.type.$$typeof===Symbol.for("react.forward_ref"),createActiveChild:BC}),uo=FC();Nl.ForwardRefController=()=>uo});var Vl=p(Il=>{var{isValidElement:GC}=Q(),{isPureFunction:HC}=ft(),{ensureArray:WC}=H(),KC=()=>({matchElement:e=>e&&GC(e)&&typeof e.type=="function"&&!HC(e.type)&&e.type.$_r2_state,createActiveChild:(e,t)=>QC(e,t)}),Sr=KC();Il.StateController=()=>Sr;var QC=(e,{onRequestUpdate:t})=>{let r=e.props.getInitValue?e.props.getInitValue():e.props.initValue,n=e.props.next;return e=null,Object.assign({},Sr,{createPassiveChild:()=>Sr,applyUpdates:({propagationRequest:o,updateRequests:s})=>{o&&(n=o.element.props.next);let i=null;if(s)for(let c of s)c.type==="change"?r=c.fn(r):r=c.value,c.cb&&(i||(i=[]),i.push(c.cb));return{propagation:{elements:WC(n({value:r,onChange:(c,u)=>t({value:c,cb:u}),change:(c,u)=>t({type:"change",fn:c,cb:u})}))},onCommit:i?.length&&(()=>i.forEach(c=>c()))}},acceptPropagation:Sr.matchElement})}});var Tl=p($l=>{var YC=e=>({extractRequests:r=>{let n=null;for(let o=0;o<e.length;o++){let s=e[o];s.node===r&&(n||(n=[]),n.push(s.request),e.splice(o,1),o--)}return n}});$l.SequenceUpdateGroup=YC});var zl=p(jl=>{var{reconcilation:ZC}=Yn(),{ShadowActiveController1:JC}=oo(),{SequenceUpdateGroup:Ll}=Tl(),{findMinValue:XC}=j(),ew=e=>e.rootUpdate?tw(e):rw(e);jl.renderSequenceUpdates=ew;var tw=({rootNode:e,rootUpdate:t,childUpdates:r,collectValues:n,onRequestUpdate:o,isSchedulerEmpty:s})=>{let i=Ll(r),c=[],u=null;return e.elementList=t.list,ZC(e,t.list,{onCreateNode:l=>{let f=nw(l,u,{contexts:e.contexts,onRequestUpdate:o,isSchedulerEmpty:s}),d=f.activeController.applyUpdates({isFirstRun:!0});return d.onCommit&&c.push(d.onCommit),u=n(u,f.activeController.getValues()),f},onUpdateNode:(l,f)=>{let d=i.extractRequests(l),h=l.activeController.applyUpdates({propagationRequest:{element:{props:{renderShadow:({acceptValue:y})=>f.render(u,y)}}},updateRequests:d});h.onCommit&&c.push(h.onCommit),u=n(u,l.activeController.getValues())},onRemoveNode:l=>{l.activeController.selfDispose()}}),{onCommit:c.length?()=>c.forEach(l=>l()):null,values:u}},rw=({rootNode:e,childUpdates:t,collectValues:r})=>{let n=Ll(t),o=XC(t,u=>e.childNodes.indexOf(u.node)),s=null;{let u=e.childNodes.first;for(let l=0;l<o;l++){let f=u.value;s=r(s,f.activeController.getValues()),u=u.next}}let i=[],c=e.childNodes.entryAt(o);for(let u=o;c;u++){let l=c.value,f=n.extractRequests(l),d=l.activeController.applyUpdates({propagationRequest:{element:{props:{renderShadow:({acceptValue:h})=>e.elementList[u].render(s,h)}}},updateRequests:f});d.onCommit&&i.push(d.onCommit),s=r(s,l.activeController.getValues()),c=c.next}return{onCommit:i.length?()=>i.forEach(u=>u()):null,values:s}},nw=(e,t,{contexts:r,onRequestUpdate:n,isSchedulerEmpty:o})=>{let s=u=>({node:c,request:u}),c={activeController:{...JC({props:{renderShadow:({acceptValue:u})=>e.render(t,u)}},{contexts:r,onRequestUpdate:u=>n(s(u)),createUpdateRequest:s,isSchedulerEmpty:o}),key:e.key,acceptPropagation:u=>u.key===e.key}};return c}});var Gl=p(Rr=>{var{isValidElement:ow}=Q(),{ensureArray:sw}=H(),{renderSequenceUpdates:iw}=zl(),cw=(e,{onRequestUpdate:t,createUpdateRequest:r,isSchedulerEmpty:n,findPassiveController:o})=>{let{list:s,next:i,collectValues:c=(d,h)=>[...d??[],h]}=e.props,u=e.key;e=void 0;let l=o(d=>d.getAllContexts?.()),f=Bl({contexts:l?.map(d=>Object.assign({},d,{registerListener:h=>d.registerListener(y=>{let x=h(y);return r(x)})}))});return Object.assign({},qr,{key:u,acceptPropagation:d=>qr.matchElement(d)&&u===d.key,createPassiveChild:()=>qr,applyUpdates:({propagationRequest:d,updateRequests:h,isFirstRun:y})=>{d&&(s=d.element.props.list,i=d.element.props.next);let{onCommit:x,values:C}=iw({rootNode:f,rootUpdate:d||y?{list:s}:null,childUpdates:h,onRequestUpdate:t,isSchedulerEmpty:n,collectValues:c});return{propagation:{elements:sw(i?.(C))},onCommit:x}},selfDispose:()=>Fl(f)})},uw=()=>({matchElement:e=>e&&ow(e)&&e.type.$_r2_sequence,createActiveChild:cw}),qr=uw();Rr.SequenceController=()=>qr;var Bl=({contexts:e})=>({childNodes:null,contexts:e});Rr.createRootSequenceNode=Bl;var Fl=e=>{e.childNodes.forEach(t=>t.activeController.selfDispose())};Rr.destroySequenceNode=Fl});var wr=p(Hl=>{var{FragmentController:lw}=Mu(),{ArrayController:aw}=Vu(),{ComponentController:fw}=ju(),{NullController:pw}=Fu(),{ShadowController:dw}=oo(),{ContextController:mw}=ol(),{ConsumerController:hw}=il(),{FunctionalController:vw}=Rl(),{SuspenseController:yw}=Ol(),{WaitController:gw}=Ml(),{ForwardRefController:xw}=Ul(),{StateController:Cw}=Vl(),{SequenceController:ww}=Gl(),Ew=({contexts:e}={})=>[lw(),dw(),ww(),aw(),Cw(),mw({contexts:e}),hw(),fw(),vw(),xw(),pw(),yw(),gw()];Hl.createBaseControllers=Ew});var lo=p(Wl=>{var bw=e=>{let t=[],r=null;return{addUpdate:n=>{t.push(n),r==null&&(r=Sw(()=>{for(;t.length;){let o=t.slice(0);t.length=0,e(o)}r=null}))},isEmpty:()=>!t.length}};Wl.createScheduler=bw;var Sw=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout});var ao=p(Kl=>{var{DomRootController:qw}=Kn(),{createRootNode:Rw}=gr(),{renderUpdates:kw}=xr(),{createBaseControllers:Pw}=wr(),{ensureArray:Dw}=H(),{createScheduler:_w}=lo(),Ow=e=>{for(let o;o=e.firstChild;)o.remove();let t=Rw({controllers:[qw({dom:e}),...Pw()]}),r=o=>{kw({updates:o,onRequestUpdate:i=>n.addUpdate(i),isSchedulerEmpty:n.isEmpty})?.()},n=_w(r);return{render:o=>{o=Dw(o),r([t.createUpdate(o)])},unmount:()=>t.destroy()}};Kl.createRoot=Ow});var Yl=p(Ql=>{var{createRoot:Aw}=ao(),Mw=(e,t)=>{Aw(t).render(e)};Ql.renderToDom=Mw});var kr=p(Zl=>{var Nw=(e,t)=>{let{types:r}=fo();return r.find(n=>n.check(e)).toChild(e,t)};Zl.createActiveChild=Nw});var Jl=p(po=>{var{isValidElement:Uw}=Q(),{ensureArray:Iw}=H(),{matchElement:Vw}=Pr(),{createActiveChild:$w}=kr(),{PassiveController:Tw}=Dr(),Lw=e=>e&&Uw(e)&&typeof e.type=="string";po.validDomElement=Lw;var jw=e=>({dom:e,matchElement:Vw,applyUpdates:()=>({propagation:{elements:Iw(e.props.children)}}),createActiveChild:$w,createPassiveChild:Tw});po.createActiveDomController=jw});var Xl=p(mo=>{var{PassiveController:zw}=Dr(),{createActiveChild:Bw}=kr(),{matchElement:Fw}=Pr(),Gw=e=>typeof e=="number"||typeof e=="string";mo.validTextElement=Gw;var Hw=e=>({text:e,matchElement:Fw,applyUpdates:()=>({}),createActiveChild:Bw,createPassiveChild:zw});mo.createActiveTextController=Hw});var fo=p(ea=>{var{createActiveDomController:Ww,validDomElement:Kw}=Jl(),{createActiveTextController:Qw,validTextElement:Yw}=Xl(),Zw=[{check:Kw,toChild:Ww},{check:Yw,toChild:Qw}];ea.types=Zw});var Pr=p(ta=>{var{cache0:Jw}=lr(),Xw=Jw(()=>{let{types:e}=fo();return e}),e1=e=>Xw().find(t=>t.check(e));ta.matchElement=e1});var Dr=p(na=>{var{matchElement:t1}=Pr(),{createActiveChild:r1}=kr(),ra=()=>({matchElement:t1,createActiveChild:r1,createPassiveChild:ra});na.PassiveController=ra});var sa=p(oa=>{var{PassiveController:n1}=Dr(),o1=()=>n1();oa.DomMemoryRootController=o1});var la=p(ua=>{var{IterList:s1}=J(),{createActiveTextController:ia}=Nn(),{singleDomRange:i1}=fr(),{DomRootController:c1}=Kn(),{createActiveDomController:u1}=yr(),{getNamespace:l1}=At(),a1=(e,t,r,n)=>{ca(e,{controllerIndex:r,createLooper:o=>{let s=s1(),i=null;return{eachChild:c=>{if(c.getDom){let u=c.getDom();s.push(u),i?i.to=u:i=i1(u)}else{let u=c.mounting.getDomRange();u&&(i?i.to=u.to:i={...u}),c.mounting.setMounted(s.push(u?.from),u)}},finish:()=>i}},perNode:(o,s,i)=>{if(!o.dom&&o.text==null)if(s){let c=s.parentNode.createPassiveChild(),u=i({...s,parentNode:c});return c.mounting.setDomRange(u),c}else{let c=c1({dom:t}),u={value:t.firstChild};return i({parentNode:c,parentDom:t,currentDom:u}),c}else if(o.text!=null){let c=o.text.toString();o=null;let u=s.currentDom.value;if(u.data!==c&&u.data.startsWith(c)){let l=document.createTextNode(c);return s.parentDom.insertBefore(l,u),u.data=u.data.substring(c.length),ia(l,c)}else return s.currentDom.value=u.nextSibling,ia(u,c)}else{let c=s.currentDom.value;s.currentDom.value=c.nextSibling;let u=u1(c,{namespace:s.namespace??l1(c.tagName)},o.dom,{skipRawAttrs:!0,isSchedulerEmpty:n.isEmpty}),l={value:c.firstChild};return i({parentNode:u,parentDom:c,currentDom:l}),u}}})};ua.swapControllers=a1;var ca=(e,{controllerIndex:t,perNode:r,createLooper:n,params:o})=>{let s=r(e.controllers[t],o,(i,c)=>{let u=n(c);return e.childNodes?.forEach(l=>{let f=ca(l,{controllerIndex:t,perNode:r,params:i,createLooper:n});u.eachChild(f)}),u.finish()});return e.controllers[t]===e.activeController&&(e.activeController=s),e.controllers[t]=s,s}});var pa=p(fa=>{var{ensureArray:f1}=H(),{createRootNode:p1}=gr(),{createBaseControllers:d1}=wr(),{renderUpdates:aa}=xr(),{createScheduler:m1}=lo(),{DomMemoryRootController:h1}=sa(),{swapControllers:v1}=la(),y1=(e,t)=>{let{rootNode:r,scheduler:n,onCommit:o}=g1(e);v1(r,t,0,n),o?.()};fa.hydrate=y1;var g1=e=>{e=f1(e);let t=p1({controllers:[h1(),...d1()]}),r=m1(o=>{aa({updates:o,onRequestUpdate:i=>r.addUpdate(i),isSchedulerEmpty:r.isEmpty})?.()}),n=aa({updates:[t.createUpdate(e)],onRequestUpdate:o=>r.addUpdate(o),isSchedulerEmpty:r.isEmpty});return{rootNode:t,scheduler:r,onCommit:n}}});var ma=p(da=>{var x1=(e,t)=>({$$r2_portal:!0,dom:t,props:{children:e}});da.createPortal=x1});var va=p(ha=>{var C1=e=>e._r2_findPassiveController(t=>t.mounting.getDomRange()?.from);ha.findDOMNode=C1});var ga=p(($R,ya)=>{var{renderToDom:w1}=Yl(),{hydrate:E1}=pa(),{createPortal:b1}=ma(),{findDOMNode:S1}=va(),{createRoot:q1}=ao();ya.exports={render:w1,createRoot:q1,hydrate:E1,createPortal:b1,findDOMNode:S1}});var wa=p((TR,Ca)=>{"use strict";var xa=Object.getOwnPropertySymbols,R1=Object.prototype.hasOwnProperty,k1=Object.prototype.propertyIsEnumerable;function P1(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function D1(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(t).map(function(s){return t[s]});if(n.join("")!=="0123456789")return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(s){o[s]=s}),Object.keys(Object.assign({},o)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}Ca.exports=D1()?Object.assign:function(e,t){for(var r,n=P1(e),o,s=1;s<arguments.length;s++){r=Object(arguments[s]);for(var i in r)R1.call(r,i)&&(n[i]=r[i]);if(xa){o=xa(r);for(var c=0;c<o.length;c++)k1.call(r,o[c])&&(n[o[c]]=r[o[c]])}}return n}});var Va=p((LR,Ia)=>{"use strict";var ho=wa(),X=typeof Symbol=="function"&&Symbol.for,Tt=X?Symbol.for("react.element"):60103,_1=X?Symbol.for("react.portal"):60106,O1=X?Symbol.for("react.fragment"):60107,A1=X?Symbol.for("react.strict_mode"):60108,M1=X?Symbol.for("react.profiler"):60114,N1=X?Symbol.for("react.provider"):60109,U1=X?Symbol.for("react.context"):60110,I1=X?Symbol.for("react.forward_ref"):60112,V1=X?Symbol.for("react.suspense"):60113;X&&Symbol.for("react.suspense_list");var $1=X?Symbol.for("react.memo"):60115,T1=X?Symbol.for("react.lazy"):60116;X&&Symbol.for("react.fundamental");X&&Symbol.for("react.responder");X&&Symbol.for("react.scope");var Ea=typeof Symbol=="function"&&Symbol.iterator;function Lt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ba={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Sa={};function pt(e,t,r){this.props=e,this.context=t,this.refs=Sa,this.updater=r||ba}pt.prototype.isReactComponent={};pt.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error(Lt(85));this.updater.enqueueSetState(this,e,t,"setState")};pt.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function qa(){}qa.prototype=pt.prototype;function vo(e,t,r){this.props=e,this.context=t,this.refs=Sa,this.updater=r||ba}var yo=vo.prototype=new qa;yo.constructor=vo;ho(yo,pt.prototype);yo.isPureReactComponent=!0;var Ra={current:null},go={current:null},ka=Object.prototype.hasOwnProperty,Pa={key:!0,ref:!0,__self:!0,__source:!0};function Da(e,t,r){var n,o={},s=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(s=""+t.key),t)ka.call(t,n)&&!Pa.hasOwnProperty(n)&&(o[n]=t[n]);var c=arguments.length-2;if(c===1)o.children=r;else if(1<c){for(var u=Array(c),l=0;l<c;l++)u[l]=arguments[l+2];o.children=u}if(e&&e.defaultProps)for(n in c=e.defaultProps,c)o[n]===void 0&&(o[n]=c[n]);return{$$typeof:Tt,type:e,key:s,ref:i,props:o,_owner:go.current}}function L1(e,t){return{$$typeof:Tt,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function xo(e){return typeof e=="object"&&e!==null&&e.$$typeof===Tt}function j1(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(r){return t[r]})}var _a=/\/+/g,_r=[];function Oa(e,t,r,n){if(_r.length){var o=_r.pop();return o.result=e,o.keyPrefix=t,o.func=r,o.context=n,o.count=0,o}return{result:e,keyPrefix:t,func:r,context:n,count:0}}function Aa(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>_r.length&&_r.push(e)}function Co(e,t,r,n){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Tt:case _1:s=!0}}if(s)return r(n,e,t===""?"."+Eo(e,0):t),1;if(s=0,t=t===""?".":t+":",Array.isArray(e))for(var i=0;i<e.length;i++){o=e[i];var c=t+Eo(o,i);s+=Co(o,c,r,n)}else if(e===null||typeof e!="object"?c=null:(c=Ea&&e[Ea]||e["@@iterator"],c=typeof c=="function"?c:null),typeof c=="function")for(e=c.call(e),i=0;!(o=e.next()).done;)o=o.value,c=t+Eo(o,i++),s+=Co(o,c,r,n);else if(o==="object")throw r=""+e,Error(Lt(31,r==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":r,""));return s}function wo(e,t,r){return e==null?0:Co(e,"",t,r)}function Eo(e,t){return typeof e=="object"&&e!==null&&e.key!=null?j1(e.key):t.toString(36)}function z1(e,t){e.func.call(e.context,t,e.count++)}function B1(e,t,r){var n=e.result,o=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?bo(e,n,r,function(s){return s}):e!=null&&(xo(e)&&(e=L1(e,o+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(_a,"$&/")+"/")+r)),n.push(e))}function bo(e,t,r,n,o){var s="";r!=null&&(s=(""+r).replace(_a,"$&/")+"/"),t=Oa(t,s,n,o),wo(e,B1,t),Aa(t)}function De(){var e=Ra.current;if(e===null)throw Error(Lt(321));return e}var Ma={Children:{map:function(e,t,r){if(e==null)return e;var n=[];return bo(e,n,null,t,r),n},forEach:function(e,t,r){if(e==null)return e;t=Oa(null,null,t,r),wo(e,z1,t),Aa(t)},count:function(e){return wo(e,function(){return null},null)},toArray:function(e){var t=[];return bo(e,t,null,function(r){return r}),t},only:function(e){if(!xo(e))throw Error(Lt(143));return e}},createRef:function(){return{current:null}},Component:pt,PureComponent:vo,createContext:function(e,t){return t===void 0&&(t=null),e={$$typeof:U1,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider={$$typeof:N1,_context:e},e.Consumer=e},forwardRef:function(e){return{$$typeof:I1,render:e}},lazy:function(e){return{$$typeof:T1,_ctor:e,_status:-1,_result:null}},memo:function(e,t){return{$$typeof:$1,type:e,compare:t===void 0?null:t}},useCallback:function(e,t){return De().useCallback(e,t)},useContext:function(e,t){return De().useContext(e,t)},useEffect:function(e,t){return De().useEffect(e,t)},useImperativeHandle:function(e,t,r){return De().useImperativeHandle(e,t,r)},useDebugValue:function(){},useLayoutEffect:function(e,t){return De().useLayoutEffect(e,t)},useMemo:function(e,t){return De().useMemo(e,t)},useReducer:function(e,t,r){return De().useReducer(e,t,r)},useRef:function(e){return De().useRef(e)},useState:function(e){return De().useState(e)},Fragment:O1,Profiler:M1,StrictMode:A1,Suspense:V1,createElement:Da,cloneElement:function(e,t,r){if(e==null)throw Error(Lt(267,e));var n=ho({},e.props),o=e.key,s=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,i=go.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(u in t)ka.call(t,u)&&!Pa.hasOwnProperty(u)&&(n[u]=t[u]===void 0&&c!==void 0?c[u]:t[u])}var u=arguments.length-2;if(u===1)n.children=r;else if(1<u){c=Array(u);for(var l=0;l<u;l++)c[l]=arguments[l+2];n.children=c}return{$$typeof:Tt,type:e.type,key:o,ref:s,props:n,_owner:i}},createFactory:function(e){var t=Da.bind(null,e);return t.type=e,t},isValidElement:xo,version:"16.11.0",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:Ra,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:go,IsSomeRendererActing:{current:!1},assign:ho}},Na={default:Ma},Ua=Na&&Ma||Na;Ia.exports=Ua.default||Ua});var fe=p((jR,$a)=>{"use strict";$a.exports=Va()});var La=p(qo=>{var{Component:F1,createElement:G1}=fe(),Ta=({next:e,getInitValue:t,initValue:r})=>G1(So,{next:e,getInitValue:t,initValue:r});qo.State=Ta;qo.State1=Ta;var So=class extends F1{constructor(t,r){super(t,r);this.state={value:t.getInitValue?t.getInitValue():t.initValue}}componentWillUnmount(){this.unmounted=Date.now()}setState(t,r){!this.unmounted||Date.now()-this.unmounted>3e3?super.setState(t,r):console.log("[WARNING] Set state when unmounted")}render(){let{next:t}=this.props,{value:r}=this.state;return t?.({value:r,onChange:(n,o)=>{this.setState({value:n},o)},change:(n,o)=>{this.setState(s=>({...s,value:n(s.value)}),o)}})??null}};So.$_r2_state=!0});var Ce=p(ja=>{var{State:H1}=La();ja.UseState=H1});var ne=p(Or=>{var{createElement:za,Fragment:Ba}=fe(),Fa=(...e)=>za(Ba,{},...e);Or.fragments=Fa;Or.fragments1=Fa;var W1=e=>za(Ba,{},...e);Or.fragments2=W1});var Wa=p(Ha=>{var K1=fe(),{addRemove:Ro}=j(),Ga=class extends K1.Component{constructor(t,r,n){super(t,r,n);this.onUnmounts=[],this.onChangeds=[],this.onMounts=[],this.mounted=!1,this.onMount=Ro(this.onMounts),this.onUnmount=Ro(this.onUnmounts),this.onChanged=Ro(this.onChangeds)}componentDidMount(){this.mounted=!0,this.onMounts.forEach(t=>t())}componentWillUnmount(){this.mounted=!1,this.onUnmounts.forEach(t=>t())}componentDidUpdate(t){this.onChangeds.forEach(r=>r(t))}setState(t,r){this.mounted?super.setState(t,r):(this.state=Object.assign(this.state,t),r&&r())}forceUpdate(){this.mounted&&super.forceUpdate()}onChanged1(t){if(t())return;let n=this.onChanged(()=>{t()&&n()})}};Ha.FComponent=Ga});var ze=p(Qa=>{var{FComponent:Q1}=Wa(),{createElement:Y1}=fe(),Z1=({fn:e,action:t,props:r,onMounted:n,next:o})=>Y1(Ka,{action:t??e,props:r,onMounted:n,next:o});Qa.Invoke=Z1;var Ka=class extends Q1{constructor(t,r){super(t,r);t.action&&t.action({getLatestProps:()=>this.props.props,isMounted:()=>this.mounted}),t.onMounted&&(console.log("[Quan warning] Invoke onMounted is deprecated"),this.onMount(()=>{setTimeout(()=>{this.props.onMounted({getLatestProps:()=>this.props.props,isMounted:()=>this.mounted})},0)}))}render(){let{next:t}=this.props;return t?t():null}}});var cf=p(E=>{"use strict";var jt=Symbol.for("react.element"),J1=Symbol.for("react.portal"),X1=Symbol.for("react.fragment"),eE=Symbol.for("react.strict_mode"),tE=Symbol.for("react.profiler"),rE=Symbol.for("react.provider"),nE=Symbol.for("react.context"),oE=Symbol.for("react.forward_ref"),sE=Symbol.for("react.suspense"),iE=Symbol.for("react.memo"),cE=Symbol.for("react.lazy"),Ya=Symbol.iterator;function uE(e){return e===null||typeof e!="object"?null:(e=Ya&&e[Ya]||e["@@iterator"],typeof e=="function"?e:null)}var Za={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ja=Object.assign,Xa={};function dt(e,t,r){this.props=e,this.context=t,this.refs=Xa,this.updater=r||Za}dt.prototype.isReactComponent={};dt.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};dt.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ef(){}ef.prototype=dt.prototype;function ko(e,t,r){this.props=e,this.context=t,this.refs=Xa,this.updater=r||Za}var Po=ko.prototype=new ef;Po.constructor=ko;Ja(Po,dt.prototype);Po.isPureReactComponent=!0;var tf=Array.isArray,rf=Object.prototype.hasOwnProperty,Do={current:null},nf={key:!0,ref:!0,__self:!0,__source:!0};function of(e,t,r){var n,o={},s=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(s=""+t.key),t)rf.call(t,n)&&!nf.hasOwnProperty(n)&&(o[n]=t[n]);var c=arguments.length-2;if(c===1)o.children=r;else if(1<c){for(var u=Array(c),l=0;l<c;l++)u[l]=arguments[l+2];o.children=u}if(e&&e.defaultProps)for(n in c=e.defaultProps,c)o[n]===void 0&&(o[n]=c[n]);return{$$typeof:jt,type:e,key:s,ref:i,props:o,_owner:Do.current}}function lE(e,t){return{$$typeof:jt,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function _o(e){return typeof e=="object"&&e!==null&&e.$$typeof===jt}function aE(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var sf=/\/+/g;function Oo(e,t){return typeof e=="object"&&e!==null&&e.key!=null?aE(""+e.key):t.toString(36)}function Ar(e,t,r,n,o){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(s){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case jt:case J1:i=!0}}if(i)return i=e,o=o(i),e=n===""?"."+Oo(i,0):n,tf(o)?(r="",e!=null&&(r=e.replace(sf,"$&/")+"/"),Ar(o,t,r,"",function(l){return l})):o!=null&&(_o(o)&&(o=lE(o,r+(!o.key||i&&i.key===o.key?"":(""+o.key).replace(sf,"$&/")+"/")+e)),t.push(o)),1;if(i=0,n=n===""?".":n+":",tf(e))for(var c=0;c<e.length;c++){s=e[c];var u=n+Oo(s,c);i+=Ar(s,t,r,u,o)}else if(u=uE(e),typeof u=="function")for(e=u.call(e),c=0;!(s=e.next()).done;)s=s.value,u=n+Oo(s,c++),i+=Ar(s,t,r,u,o);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Mr(e,t,r){if(e==null)return e;var n=[],o=0;return Ar(e,n,"","",function(s){return t.call(r,s,o++)}),n}function fE(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ee={current:null},Nr={transition:null},pE={ReactCurrentDispatcher:ee,ReactCurrentBatchConfig:Nr,ReactCurrentOwner:Do};E.Children={map:Mr,forEach:function(e,t,r){Mr(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Mr(e,function(){t++}),t},toArray:function(e){return Mr(e,function(t){return t})||[]},only:function(e){if(!_o(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};E.Component=dt;E.Fragment=X1;E.Profiler=tE;E.PureComponent=ko;E.StrictMode=eE;E.Suspense=sE;E.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pE;E.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Ja({},e.props),o=e.key,s=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,i=Do.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(u in t)rf.call(t,u)&&!nf.hasOwnProperty(u)&&(n[u]=t[u]===void 0&&c!==void 0?c[u]:t[u])}var u=arguments.length-2;if(u===1)n.children=r;else if(1<u){c=Array(u);for(var l=0;l<u;l++)c[l]=arguments[l+2];n.children=c}return{$$typeof:jt,type:e.type,key:o,ref:s,props:n,_owner:i}};E.createContext=function(e){return e={$$typeof:nE,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:rE,_context:e},e.Consumer=e};E.createElement=of;E.createFactory=function(e){var t=of.bind(null,e);return t.type=e,t};E.createRef=function(){return{current:null}};E.forwardRef=function(e){return{$$typeof:oE,render:e}};E.isValidElement=_o;E.lazy=function(e){return{$$typeof:cE,_payload:{_status:-1,_result:e},_init:fE}};E.memo=function(e,t){return{$$typeof:iE,type:e,compare:t===void 0?null:t}};E.startTransition=function(e){var t=Nr.transition;Nr.transition={};try{e()}finally{Nr.transition=t}};E.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};E.useCallback=function(e,t){return ee.current.useCallback(e,t)};E.useContext=function(e){return ee.current.useContext(e)};E.useDebugValue=function(){};E.useDeferredValue=function(e){return ee.current.useDeferredValue(e)};E.useEffect=function(e,t){return ee.current.useEffect(e,t)};E.useId=function(){return ee.current.useId()};E.useImperativeHandle=function(e,t,r){return ee.current.useImperativeHandle(e,t,r)};E.useInsertionEffect=function(e,t){return ee.current.useInsertionEffect(e,t)};E.useLayoutEffect=function(e,t){return ee.current.useLayoutEffect(e,t)};E.useMemo=function(e,t){return ee.current.useMemo(e,t)};E.useReducer=function(e,t,r){return ee.current.useReducer(e,t,r)};E.useRef=function(e){return ee.current.useRef(e)};E.useState=function(e){return ee.current.useState(e)};E.useSyncExternalStore=function(e,t,r){return ee.current.useSyncExternalStore(e,t,r)};E.useTransition=function(){return ee.current.useTransition()};E.version="18.1.0"});var lf=p((KR,uf)=>{"use strict";uf.exports=cf()});var af=Os(()=>{});var ff={};oh(ff,{App:()=>dE});var Ur,dE,pf=Os(()=>{Ur=m(lf());af();dE=({})=>{let[e]=(0,Ur.useState)("World");return Ur.default.createElement("div",{className:""},"Hello ",e)}});var mf=p(df=>{var{cs:mE}=N(),{UseState:hE}=Ce(),{fragments:vE}=ne(),{Invoke:yE}=ze(),{App:JR}=(pf(),sh(ff)),gE=({next:e})=>mE(["destroyed",(t,r)=>hE({next:r})],({destroyed:t})=>vE(yE({action:()=>{window.disposeScript=()=>{t.onChange(!0),console.clear(),document.getElementById("root").remove();let r=document.createElement("div");r.id="root",document.body.appendChild(r)}}}),!t.value&&e()));df.EsbuildDispose=gE});var hf=p(Ao=>{"use strict";Object.defineProperty(Ao,"__esModule",{value:!0});function xE(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function CE(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var wE=function(){function e(r){var n=this;this._insertTag=function(o){var s;n.tags.length===0?n.insertionPoint?s=n.insertionPoint.nextSibling:n.prepend?s=n.container.firstChild:s=n.before:s=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(o,s),n.tags.push(o)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(n){n.forEach(this._insertTag)},t.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(CE(this));var o=this.tags[this.tags.length-1];if(this.isSpeedy){var s=xE(o);try{s.insertRule(n,s.cssRules.length)}catch{}}else o.appendChild(document.createTextNode(n));this.ctr++},t.flush=function(){this.tags.forEach(function(n){return n.parentNode&&n.parentNode.removeChild(n)}),this.tags=[],this.ctr=0},e}();Ao.StyleSheet=wE});var yf=p((tk,vf)=>{"use strict";vf.exports=hf()});var xf=p((Ir,gf)=>{(function(e,t){typeof Ir=="object"&&typeof gf!="undefined"?t(Ir):typeof define=="function"&&define.amd?define(["exports"],t):(e=e||self,t(e.stylis={}))})(Ir,function(e){"use strict";var t="-ms-",r="-moz-",n="-webkit-",o="comm",s="rule",i="decl",c="@page",u="@media",l="@import",f="@charset",d="@viewport",h="@supports",y="@document",x="@namespace",C="@keyframes",b="@font-face",A="@counter-style",B="@font-feature-values",L=Math.abs,U=String.fromCharCode,I=Object.assign;function P(a,g){return(((g<<2^K(a,0))<<2^K(a,1))<<2^K(a,2))<<2^K(a,3)}function ye(a){return a.trim()}function Ke(a,g){return(a=g.exec(a))?a[0]:a}function S(a,g,w){return a.replace(g,w)}function Ie(a,g){return a.indexOf(g)}function K(a,g){return a.charCodeAt(g)|0}function Ve(a,g,w){return a.slice(g,w)}function le(a){return a.length}function rt(a){return a.length}function $e(a,g){return g.push(a),a}function sn(a,g){return a.map(g).join("")}e.line=1,e.column=1,e.length=0,e.position=0,e.character=0,e.characters="";function Et(a,g,w,q,k,ge,qe){return{value:a,root:g,parent:w,type:q,props:k,children:ge,line:e.line,column:e.column,length:qe,return:""}}function nt(a,g){return I(Et("",null,null,"",null,null,0),a,{length:-a.length},g)}function Es(){return e.character}function bs(){return e.character=e.position>0?K(e.characters,--e.position):0,e.column--,e.character===10&&(e.column=1,e.line--),e.character}function se(){return e.character=e.position<e.length?K(e.characters,e.position++):0,e.column++,e.character===10&&(e.column=1,e.line++),e.character}function Te(){return K(e.characters,e.position)}function bt(){return e.position}function St(a,g){return Ve(e.characters,a,g)}function qt(a){switch(a){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function cn(a){return e.line=e.column=1,e.length=le(e.characters=a),e.position=0,[]}function un(a){return e.characters="",a}function Rt(a){return ye(St(e.position-1,rr(a===91?a+2:a===40?a+1:a)))}function Ss(a){return un(Rs(cn(a)))}function qs(a){for(;(e.character=Te())&&e.character<33;)se();return qt(a)>2||qt(e.character)>3?"":" "}function Rs(a){for(;se();)switch(qt(e.character)){case 0:$e(ln(e.position-1),a);break;case 2:$e(Rt(e.character),a);break;default:$e(U(e.character),a)}return a}function ks(a,g){for(;--g&&se()&&!(e.character<48||e.character>102||e.character>57&&e.character<65||e.character>70&&e.character<97););return St(a,bt()+(g<6&&Te()==32&&se()==32))}function rr(a){for(;se();)switch(e.character){case a:return e.position;case 34:case 39:a!==34&&a!==39&&rr(e.character);break;case 40:a===41&&rr(a);break;case 92:se();break}return e.position}function Ps(a,g){for(;se()&&a+e.character!==47+10;)if(a+e.character===42+42&&Te()===47)break;return"/*"+St(g,e.position-1)+"*"+U(a===47?a:se())}function ln(a){for(;!qt(Te());)se();return St(a,e.position)}function Wm(a){return un(kt("",null,null,null,[""],a=cn(a),0,[0],a))}function kt(a,g,w,q,k,ge,qe,ie,Pt){for(var st=0,Le=0,te=qe,it=0,ct=0,Re=0,me=1,nr=1,he=1,re=0,je="",or=k,Qe=ge,xe=q,T=je;nr;)switch(Re=re,re=se()){case 40:if(Re!=108&&T.charCodeAt(te-1)==58){Ie(T+=S(Rt(re),"&","&\f"),"&\f")!=-1&&(he=-1);break}case 34:case 39:case 91:T+=Rt(re);break;case 9:case 10:case 13:case 32:T+=qs(Re);break;case 92:T+=ks(bt()-1,7);continue;case 47:switch(Te()){case 42:case 47:$e(Ds(Ps(se(),bt()),g,w),Pt);break;default:T+="/"}break;case 123*me:ie[st++]=le(T)*he;case 125*me:case 59:case 0:switch(re){case 0:case 125:nr=0;case 59+Le:ct>0&&le(T)-te&&$e(ct>32?fn(T+";",q,w,te-1):fn(S(T," ","")+";",q,w,te-2),Pt);break;case 59:T+=";";default:if($e(xe=an(T,g,w,st,Le,k,ie,je,or=[],Qe=[],te),ge),re===123)if(Le===0)kt(T,g,xe,xe,or,ge,te,ie,Qe);else switch(it){case 100:case 109:case 115:kt(a,xe,xe,q&&$e(an(a,xe,xe,0,0,k,ie,je,k,or=[],te),Qe),k,Qe,te,ie,q?or:Qe);break;default:kt(T,xe,xe,xe,[""],Qe,0,ie,Qe)}}st=Le=ct=0,me=he=1,je=T="",te=qe;break;case 58:te=1+le(T),ct=Re;default:if(me<1){if(re==123)--me;else if(re==125&&me++==0&&bs()==125)continue}switch(T+=U(re),re*me){case 38:he=Le>0?1:(T+="\f",-1);break;case 44:ie[st++]=(le(T)-1)*he,he=1;break;case 64:Te()===45&&(T+=Rt(se())),it=Te(),Le=te=le(je=T+=ln(bt())),re++;break;case 45:Re===45&&le(T)==2&&(me=0)}}return ge}function an(a,g,w,q,k,ge,qe,ie,Pt,st,Le){for(var te=k-1,it=k===0?ge:[""],ct=rt(it),Re=0,me=0,nr=0;Re<q;++Re)for(var he=0,re=Ve(a,te+1,te=L(me=qe[Re])),je=a;he<ct;++he)(je=ye(me>0?it[he]+" "+re:S(re,/&\f/g,it[he])))&&(Pt[nr++]=je);return Et(a,g,w,k===0?s:ie,Pt,st,Le)}function Ds(a,g,w){return Et(a,g,w,o,U(Es()),Ve(a,2,-2),0)}function fn(a,g,w,q){return Et(a,g,w,i,Ve(a,0,q),Ve(a,q+1,-1),q)}function pn(a,g){switch(P(a,g)){case 5103:return n+"print-"+a+a;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return n+a+a;case 5349:case 4246:case 4810:case 6968:case 2756:return n+a+r+a+t+a+a;case 6828:case 4268:return n+a+t+a+a;case 6165:return n+a+t+"flex-"+a+a;case 5187:return n+a+S(a,/(\w+).+(:[^]+)/,n+"box-$1$2"+t+"flex-$1$2")+a;case 5443:return n+a+t+"flex-item-"+S(a,/flex-|-self/,"")+a;case 4675:return n+a+t+"flex-line-pack"+S(a,/align-content|flex-|-self/,"")+a;case 5548:return n+a+t+S(a,"shrink","negative")+a;case 5292:return n+a+t+S(a,"basis","preferred-size")+a;case 6060:return n+"box-"+S(a,"-grow","")+n+a+t+S(a,"grow","positive")+a;case 4554:return n+S(a,/([^-])(transform)/g,"$1"+n+"$2")+a;case 6187:return S(S(S(a,/(zoom-|grab)/,n+"$1"),/(image-set)/,n+"$1"),a,"")+a;case 5495:case 3959:return S(a,/(image-set\([^]*)/,n+"$1$`$1");case 4968:return S(S(a,/(.+:)(flex-)?(.*)/,n+"box-pack:$3"+t+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+n+a+a;case 4095:case 3583:case 4068:case 2532:return S(a,/(.+)-inline(.+)/,n+"$1$2")+a;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(le(a)-1-g>6)switch(K(a,g+1)){case 109:if(K(a,g+4)!==45)break;case 102:return S(a,/(.+:)(.+)-([^]+)/,"$1"+n+"$2-$3$1"+r+(K(a,g+3)==108?"$3":"$2-$3"))+a;case 115:return~Ie(a,"stretch")?pn(S(a,"stretch","fill-available"),g)+a:a}break;case 4949:if(K(a,g+1)!==115)break;case 6444:switch(K(a,le(a)-3-(~Ie(a,"!important")&&10))){case 107:return S(a,":",":"+n)+a;case 101:return S(a,/(.+:)([^;!]+)(;|!.+)?/,"$1"+n+(K(a,14)===45?"inline-":"")+"box$3$1"+n+"$2$3$1"+t+"$2box$3")+a}break;case 5936:switch(K(a,g+11)){case 114:return n+a+t+S(a,/[svh]\w+-[tblr]{2}/,"tb")+a;case 108:return n+a+t+S(a,/[svh]\w+-[tblr]{2}/,"tb-rl")+a;case 45:return n+a+t+S(a,/[svh]\w+-[tblr]{2}/,"lr")+a}return n+a+t+a+a}return a}function ot(a,g){for(var w="",q=rt(a),k=0;k<q;k++)w+=g(a[k],k,a,g)||"";return w}function Km(a,g,w,q){switch(a.type){case l:case i:return a.return=a.return||a.value;case o:return"";case C:return a.return=a.value+"{"+ot(a.children,q)+"}";case s:a.value=a.props.join(",")}return le(w=ot(a.children,q))?a.return=a.value+"{"+w+"}":""}function Qm(a){var g=rt(a);return function(w,q,k,ge){for(var qe="",ie=0;ie<g;ie++)qe+=a[ie](w,q,k,ge)||"";return qe}}function Ym(a){return function(g){g.root||(g=g.return)&&a(g)}}function Zm(a,g,w,q){if(a.length>-1&&!a.return)switch(a.type){case i:a.return=pn(a.value,a.length);break;case C:return ot([nt(a,{value:S(a.value,"@","@"+n)})],q);case s:if(a.length)return sn(a.props,function(k){switch(Ke(k,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return ot([nt(a,{props:[S(k,/:(read-\w+)/,":"+r+"$1")]})],q);case"::placeholder":return ot([nt(a,{props:[S(k,/:(plac\w+)/,":"+n+"input-$1")]}),nt(a,{props:[S(k,/:(plac\w+)/,":"+r+"$1")]}),nt(a,{props:[S(k,/:(plac\w+)/,t+"input-$1")]})],q)}return""})}}function Jm(a){switch(a.type){case s:a.props=a.props.map(function(g){return sn(Ss(g),function(w,q,k){switch(K(w,0)){case 12:return Ve(w,1,le(w));case 0:case 40:case 43:case 62:case 126:return w;case 58:k[++q]==="global"&&(k[q]="",k[++q]="\f"+Ve(k[q],q=1,-1));case 32:return q===1?"":w;default:switch(q){case 0:return a=w,rt(k)>1?"":w;case(q=rt(k)-1):case 2:return q===2?w+a+a:w+a;default:return w}}})})}}e.CHARSET=f,e.COMMENT=o,e.COUNTER_STYLE=A,e.DECLARATION=i,e.DOCUMENT=y,e.FONT_FACE=b,e.FONT_FEATURE_VALUES=B,e.IMPORT=l,e.KEYFRAMES=C,e.MEDIA=u,e.MOZ=r,e.MS=t,e.NAMESPACE=x,e.PAGE=c,e.RULESET=s,e.SUPPORTS=h,e.VIEWPORT=d,e.WEBKIT=n,e.abs=L,e.alloc=cn,e.append=$e,e.assign=I,e.caret=bt,e.char=Es,e.charat=K,e.combine=sn,e.comment=Ds,e.commenter=Ps,e.compile=Wm,e.copy=nt,e.dealloc=un,e.declaration=fn,e.delimit=Rt,e.delimiter=rr,e.escaping=ks,e.from=U,e.hash=P,e.identifier=ln,e.indexof=Ie,e.match=Ke,e.middleware=Qm,e.namespace=Jm,e.next=se,e.node=Et,e.parse=kt,e.peek=Te,e.prefix=pn,e.prefixer=Zm,e.prev=bs,e.replace=S,e.ruleset=an,e.rulesheet=Ym,e.serialize=ot,e.sizeof=rt,e.slice=St,e.stringify=Km,e.strlen=le,e.substr=Ve,e.token=qt,e.tokenize=Ss,e.tokenizer=Rs,e.trim=ye,e.whitespace=qs,Object.defineProperty(e,"__esModule",{value:!0})})});var Cf=p(Mo=>{"use strict";Object.defineProperty(Mo,"__esModule",{value:!0});var EE=function(t){var r=new WeakMap;return function(n){if(r.has(n))return r.get(n);var o=t(n);return r.set(n,o),o}};Mo.default=EE});var Ef=p((nk,wf)=>{"use strict";wf.exports=Cf()});var bf=p(No=>{"use strict";Object.defineProperty(No,"__esModule",{value:!0});function bE(e){var t=Object.create(null);return function(r){return t[r]===void 0&&(t[r]=e(r)),t[r]}}No.default=bE});var Uo=p((sk,Sf)=>{"use strict";Sf.exports=bf()});var kf=p(Io=>{"use strict";Object.defineProperty(Io,"__esModule",{value:!0});var SE=yf(),$=xf(),qE=Ef(),RE=Uo();function qf(e){return e&&e.__esModule?e:{default:e}}var kE=qf(qE),PE=qf(RE),DE=function(t,r,n){for(var o=0,s=0;o=s,s=$.peek(),o===38&&s===12&&(r[n]=1),!$.token(s);)$.next();return $.slice(t,$.position)},_E=function(t,r){var n=-1,o=44;do switch($.token(o)){case 0:o===38&&$.peek()===12&&(r[n]=1),t[n]+=DE($.position-1,r,n);break;case 2:t[n]+=$.delimit(o);break;case 4:if(o===44){t[++n]=$.peek()===58?"&\f":"",r[n]=t[n].length;break}default:t[n]+=$.from(o)}while(o=$.next());return t},OE=function(t,r){return $.dealloc(_E($.alloc(t),r))},Rf=new WeakMap,AE=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var r=t.value,n=t.parent,o=t.column===n.column&&t.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(t.props.length===1&&r.charCodeAt(0)!==58&&!Rf.get(n))&&!o){Rf.set(t,!0);for(var s=[],i=OE(r,s),c=n.props,u=0,l=0;u<i.length;u++)for(var f=0;f<c.length;f++,l++)t.props[l]=s[u]?i[u].replace(/&\f/g,c[f]):c[f]+" "+i[u]}}},ME=function(t){if(t.type==="decl"){var r=t.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(t.return="",t.value="")}},Vr=typeof document!="undefined",NE=Vr?void 0:kE.default(function(){return PE.default(function(){var e={};return function(t){return e[t]}})}),UE=[$.prefixer],IE=function(t){var r=t.key;if(Vr&&r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(U){var I=U.getAttribute("data-emotion");I.indexOf(" ")!==-1&&(document.head.appendChild(U),U.setAttribute("data-s",""))})}var o=t.stylisPlugins||UE,s={},i,c=[];Vr&&(i=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(U){for(var I=U.getAttribute("data-emotion").split(" "),P=1;P<I.length;P++)s[I[P]]=!0;c.push(U)}));var u,l=[AE,ME];if(Vr){var f,d=[$.stringify,$.rulesheet(function(U){f.insert(U)})],h=$.middleware(l.concat(o,d)),y=function(I){return $.serialize($.compile(I),h)};u=function(I,P,ye,Ke){f=ye,y(I?I+"{"+P.styles+"}":P.styles),Ke&&(L.inserted[P.name]=!0)}}else{var x=[$.stringify],C=$.middleware(l.concat(o,x)),b=function(I){return $.serialize($.compile(I),C)},A=NE(o)(r),B=function(I,P){var ye=P.name;return A[ye]===void 0&&(A[ye]=b(I?I+"{"+P.styles+"}":P.styles)),A[ye]};u=function(I,P,ye,Ke){var S=P.name,Ie=B(I,P);if(L.compat===void 0)return Ke&&(L.inserted[S]=!0),Ie;if(Ke)L.inserted[S]=Ie;else return Ie}}var L={key:r,sheet:new SE.StyleSheet({key:r,container:i,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:s,registered:{},insert:u};return L.sheet.hydrate(c),L};Io.default=IE});var Vo=p((ck,Pf)=>{"use strict";Pf.exports=kf()});var Df=p($o=>{"use strict";Object.defineProperty($o,"__esModule",{value:!0});function VE(e){for(var t=0,r,n=0,o=e.length;o>=4;++n,o-=4)r=e.charCodeAt(n)&255|(e.charCodeAt(++n)&255)<<8|(e.charCodeAt(++n)&255)<<16|(e.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,t=(r&65535)*1540483477+((r>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(o){case 3:t^=(e.charCodeAt(n+2)&255)<<16;case 2:t^=(e.charCodeAt(n+1)&255)<<8;case 1:t^=e.charCodeAt(n)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}$o.default=VE});var Of=p((lk,_f)=>{"use strict";_f.exports=Df()});var Af=p(To=>{"use strict";Object.defineProperty(To,"__esModule",{value:!0});var $E={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};To.default=$E});var Nf=p((fk,Mf)=>{"use strict";Mf.exports=Af()});var Tf=p(zo=>{"use strict";Object.defineProperty(zo,"__esModule",{value:!0});var TE=Of(),LE=Nf(),jE=Uo();function Lo(e){return e&&e.__esModule?e:{default:e}}var zE=Lo(TE),BE=Lo(LE),FE=Lo(jE),GE=/[A-Z]|^ms/g,HE=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Uf=function(t){return t.charCodeAt(1)===45},If=function(t){return t!=null&&typeof t!="boolean"},jo=FE.default(function(e){return Uf(e)?e:e.replace(GE,"-$&").toLowerCase()}),Vf=function(t,r){switch(t){case"animation":case"animationName":if(typeof r=="string")return r.replace(HE,function(n,o,s){return we={name:o,styles:s,next:we},o})}return BE.default[t]!==1&&!Uf(t)&&typeof r=="number"&&r!==0?r+"px":r};function zt(e,t,r){if(r==null)return"";if(r.__emotion_styles!==void 0)return r;switch(typeof r){case"boolean":return"";case"object":{if(r.anim===1)return we={name:r.name,styles:r.styles,next:we},r.name;if(r.styles!==void 0){var n=r.next;if(n!==void 0)for(;n!==void 0;)we={name:n.name,styles:n.styles,next:we},n=n.next;var o=r.styles+";";return o}return WE(e,t,r)}case"function":{if(e!==void 0){var s=we,i=r(e);return we=s,zt(e,t,i)}break}}if(t==null)return r;var c=t[r];return c!==void 0?c:r}function WE(e,t,r){var n="";if(Array.isArray(r))for(var o=0;o<r.length;o++)n+=zt(e,t,r[o])+";";else for(var s in r){var i=r[s];if(typeof i!="object")t!=null&&t[i]!==void 0?n+=s+"{"+t[i]+"}":If(i)&&(n+=jo(s)+":"+Vf(s,i)+";");else if(Array.isArray(i)&&typeof i[0]=="string"&&(t==null||t[i[0]]===void 0))for(var c=0;c<i.length;c++)If(i[c])&&(n+=jo(s)+":"+Vf(s,i[c])+";");else{var u=zt(e,t,i);switch(s){case"animation":case"animationName":{n+=jo(s)+":"+u+";";break}default:n+=s+"{"+u+"}"}}}return n}var $f=/label:\s*([^\s;\n{]+)\s*(;|$)/g,we,KE=function(t,r,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var o=!0,s="";we=void 0;var i=t[0];i==null||i.raw===void 0?(o=!1,s+=zt(n,r,i)):s+=i[0];for(var c=1;c<t.length;c++)s+=zt(n,r,t[c]),o&&(s+=i[c]);$f.lastIndex=0;for(var u="",l;(l=$f.exec(s))!==null;)u+="-"+l[1];var f=zE.default(s)+u;return{name:f,styles:s,next:we}};zo.serializeStyles=KE});var Bo=p((dk,Lf)=>{"use strict";Lf.exports=Tf()});var zf=p(Bt=>{"use strict";Object.defineProperty(Bt,"__esModule",{value:!0});var Fo=typeof document!="undefined";function QE(e,t,r){var n="";return r.split(" ").forEach(function(o){e[o]!==void 0?t.push(e[o]+";"):n+=o+" "}),n}var jf=function(t,r,n){var o=t.key+"-"+r.name;(n===!1||Fo===!1&&t.compat!==void 0)&&t.registered[o]===void 0&&(t.registered[o]=r.styles)},YE=function(t,r,n){jf(t,r,n);var o=t.key+"-"+r.name;if(t.inserted[r.name]===void 0){var s="",i=r;do{var c=t.insert(r===i?"."+o:"",i,t.sheet,!0);!Fo&&c!==void 0&&(s+=c),i=i.next}while(i!==void 0);if(!Fo&&s.length!==0)return s}};Bt.getRegisteredStyles=QE;Bt.insertStyles=YE;Bt.registerStyles=jf});var Go=p((hk,Bf)=>{"use strict";Bf.exports=zf()});var Hf=p(Ko=>{"use strict";Object.defineProperty(Ko,"__esModule",{value:!0});var ZE=Vo(),Ho=Bo(),Wo=Go();function JE(e){return e&&e.__esModule?e:{default:e}}var XE=JE(ZE);function Ff(e,t){if(e.inserted[t.name]===void 0)return e.insert("",t,e.sheet,!0)}function Gf(e,t,r){var n=[],o=Wo.getRegisteredStyles(e,n,r);return n.length<2?r:o+t(n)}var eb=function(t){var r=XE.default(t);r.sheet.speedy=function(c){this.isSpeedy=c},r.compat=!0;var n=function(){for(var u=arguments.length,l=new Array(u),f=0;f<u;f++)l[f]=arguments[f];var d=Ho.serializeStyles(l,r.registered,void 0);return Wo.insertStyles(r,d,!1),r.key+"-"+d.name},o=function(){for(var u=arguments.length,l=new Array(u),f=0;f<u;f++)l[f]=arguments[f];var d=Ho.serializeStyles(l,r.registered),h="animation-"+d.name;return Ff(r,{name:d.name,styles:"@keyframes "+h+"{"+d.styles+"}"}),h},s=function(){for(var u=arguments.length,l=new Array(u),f=0;f<u;f++)l[f]=arguments[f];var d=Ho.serializeStyles(l,r.registered);Ff(r,d)},i=function(){for(var u=arguments.length,l=new Array(u),f=0;f<u;f++)l[f]=arguments[f];return Gf(r.registered,n,tb(l))};return{css:n,cx:i,injectGlobal:s,keyframes:o,hydrate:function(u){u.forEach(function(l){r.inserted[l]=!0})},flush:function(){r.registered={},r.inserted={},r.sheet.flush()},sheet:r.sheet,cache:r,getRegisteredStyles:Wo.getRegisteredStyles.bind(null,r.registered),merge:Gf.bind(null,r.registered,n)}},tb=function e(t){for(var r="",n=0;n<t.length;n++){var o=t[n];if(o!=null){var s=void 0;switch(typeof o){case"boolean":break;case"object":{if(Array.isArray(o))s=e(o);else{s="";for(var i in o)o[i]&&i&&(s&&(s+=" "),s+=i)}break}default:s=o}s&&(r&&(r+=" "),r+=s)}}return r};Ko.default=eb});var Wf=p(pe=>{"use strict";Object.defineProperty(pe,"__esModule",{value:!0});Vo();Bo();Go();var rb=Hf(),Ee=rb.default({key:"css"}),nb=Ee.flush,ob=Ee.hydrate,sb=Ee.cx,ib=Ee.merge,cb=Ee.getRegisteredStyles,ub=Ee.injectGlobal,lb=Ee.keyframes,ab=Ee.css,fb=Ee.sheet,pb=Ee.cache;pe.cache=pb;pe.css=ab;pe.cx=sb;pe.flush=nb;pe.getRegisteredStyles=cb;pe.hydrate=ob;pe.injectGlobal=ub;pe.keyframes=lb;pe.merge=ib;pe.sheet=fb});var _e=p((gk,Kf)=>{"use strict";Kf.exports=Wf()});var Ye=p(Yf=>{var db=fe(),{createElement:mb}=fe(),hb=({action:e,props:t,next:r})=>mb(Qf,{action:e,props:t,next:r});Yf.OnUnmounted=hb;var Qf=class extends db.Component{componentWillUnmount(){this.props.action({getLatestProps:()=>this.props.props})}render(){let{next:t}=this.props;return t?t():null}}});var Qo=p(Jf=>{var{createElement:vb,Component:yb}=fe(),gb=({getInitValue:e,initValue:t,props:r,next:n})=>vb(Zf,{getInitValue:e,initValue:t,props:r,next:n});Jf.Static=gb;var Zf=class extends yb{constructor(t,r){super(t,r);this.value=t.getInitValue?t.getInitValue({getLatestProps:()=>this.props.props}):t.initValue!==void 0?t.initValue:t.value}render(){let{next:t}=this.props;return t(this.value)??null}}});var Be=p(Xf=>{var{Static:xb}=Qo(),Cb=({getInitValue:e,next:t})=>xb({getInitValue:()=>{let r=e?.();return{get:()=>r,set:n=>r=n}},next:t});Xf.Static2=Cb});var Ft=p(ep=>{var{OnUnmounted:wb}=Ye(),{Invoke:Eb}=ze(),{fragments:bb}=ne(),{cs:Sb}=N(),{Static2:qb}=Be(),{remove1Mutate:Rb,last:kb}=j(),Pb=({eventName:e,surCheck:t})=>{let r=[],n=null,o=()=>{let i=c=>{!t(c)||(c.stopPropagation(),c.preventDefault(),kb(r)(c))};window.addEventListener(e,i),n=()=>window.removeEventListener(e,i)},s=i=>(r.push(i),r.length===1&&o(),()=>{Rb(r,i),r.length===0&&n()});return({action:i})=>Sb(["cleanup",(c,u)=>qb({next:u})],({cleanup:c})=>bb(Eb({props:i,fn:({getLatestProps:u})=>{let l=s(()=>u()());c.set(l)}}),wb({action:()=>c.get()()})))};ep.GlobalEventQueue=Pb});var Wt=p(Xe=>{function ap(e,t){if(t==null)return e;for(let r of t){if(e==null)return e;let[n]=typeof r=="string"?r.indexOf("!")>0?r.split("!"):[r]:typeof r=="function"?[r(e)]:[r];e=e[n]}return e}Xe.getPath=ap;function Tr(e,t,r){if(t.length===0)return r;let[n,...o]=t,[s,i]=typeof n=="string"?n.indexOf("!")>0?n.split("!"):[n]:typeof n=="function"?[n(e)]:[n],c=()=>i==="arr"?[]:{};if(Array.isArray(e)){let u=e?e.slice(0):[];return u[s]=Tr(e&&e[s]||c(),o,r),u}else return Object.assign({},e,{[s]:Tr(e&&e[s]||c(),o,r)})}Xe.setPath=Tr;function fp(e,t,r){if(t.length===0)return r;let[n,...o]=t;return Object.assign({},e,{[n]:fp(e&&e[n]||{},o,r)})}Xe.setPathO=fp;function pp(e,t,r){let n=ap(e,t),o=r(n);return o!==n?Tr(e,t,o):e}Xe.changePath=pp;Xe.cnv=pp;var dp=(e,t)=>{if(e==null)return null;let[r,...n]=t,o=(s=>typeof s=="object"?e.find(i=>!Object.keys(s).find(c=>s[c]!==i[c])):e[s])(r);return n.length?dp(o,n):o};Xe.locate=dp});var Kt=p(Yo=>{var{changePath:mp}=Wt(),hp=(e,t,r)=>{e.change?e.change(n=>mp(n,t,r)):e.onChange(mp(e.value,t,r))};Yo.spc=hp;Yo.scnv=hp});var et=p(Jo=>{var{createElement:Ib,Fragment:Vb}=fe(),$b=e=>(t,r)=>xp({key:e,next:r});Jo.keyed=$b;var xp=({key:e,next:t})=>Ib(Vb,{key:e},t());Jo.keyed1=xp});var bp=p(Ep=>{var{getPath:Tb,setPath:Cp,changePath:wp}=Wt(),Lb=(e,t)=>({value:Tb(e.value,t),onChange:(r,n)=>{e.change?e.change(o=>Cp(o,t,r),n):e.onChange(Cp(e.value,t,r),n)},change:(r,n)=>{e.change?e.change(o=>wp(o,t,r),n):e.onChange(wp(e.value,t,r),n)}});Ep.scope=Lb});var Rp=p(qp=>{var{fragments:jb}=ne(),{keyed:zb}=et(),{scope:Bb}=bp(),{cs:Sp}=N(),{UseState:Fb}=Ce(),{Invoke:Gb}=ze(),Hb=({fetch:e,next:t,keepOutdatedValue:r,props:n,_key:o})=>Sp(["loaded",(s,i)=>Fb({next:i})],({loaded:s})=>{let i=s.value==null||s.value.key!==o;return jb(i&&Sp(zb(o),()=>Gb({props:n,fn:async({isMounted:c,getLatestProps:u})=>{let l=await e({getLatestProps:u});!c()&&s.value||s.onChange({value:l,key:o})}})),t&&t({loading:i,...Bb(s,["value"]),value:!s.value||o!==s.value.key&&!r?void 0:s.value.value,reload:async()=>{let c=await e();s.onChange({value:c,key:o})}}))});qp.Load2=Hb});var jr=p(Vp=>{var Kb=fe(),{createElement:Qb}=fe(),Yb=({action:e,props:t,next:r})=>Qb(Ip,{action:e,props:t,next:r});Vp.OnMounted=Yb;var Ip=class extends Kb.Component{componentDidMount(){setTimeout(()=>{this.props.action({getLatestProps:()=>this.props.props})},0)}render(){let{next:t}=this.props;return t?t():null}}});var Xo=p(Gp=>{var Bp=fe(),tS=({initRun:e=!1,next:t=void 0,value:r,onChanged:n})=>Bp.createElement(Fp,{initRun:e,next:t,onChanged:n,value:r});Gp.Watch=tS;var Fp=class extends Bp.Component{constructor(t,r){super(t,r);t.initRun&&t.onChanged(this.props.value,void 0)}componentDidUpdate(t){t.value!==this.props.value&&this.props.onChanged(this.props.value,t.value)}render(){let{next:t}=this.props;return t?t():null}}});var Zp=p(Yp=>{var{cs:nS}=N(),oS=(e,t)=>nS(...e.map((r,n)=>[n,(o,s)=>r(s)]),r=>t(e.map((n,o)=>r[o])));Yp.csArr=oS});var ns=p(ed=>{var{OnUnmounted:sS}=Ye(),{Static:iS}=Qo(),{Invoke:cS}=ze(),{fragments:Jp}=ne(),{UseState:uS}=Ce(),{cs:Xp}=N(),lS=({events:e,next:t})=>Xp(["state",(r,n)=>uS({next:n})],({state:r})=>Jp(t({ref:n=>n&&!r.value&&r.onChange(n)}),r.value&&Xp(["onRemoveds",(n,o)=>iS({initValue:[],next:o})],({onRemoveds:n})=>Jp(cS({props:{events:e},fn:({getLatestProps:o})=>{let s=r.value;[{reactName:"onWheel",domName:"wheel"},{reactName:"onTouchStart",domName:"touchstart"},{reactName:"onTouchEnd",domName:"touchend"},{reactName:"onTouchMove",domName:"touchmove"},{reactName:"onPointerLockChange",domName:"pointerlockchange",mozDomName:"mozpointerlockchange"}].forEach(({reactName:c,domName:u})=>{if(!e[c])return;let l=f=>{let{events:d}=o();d[c]?.(f)};s.addEventListener(u,l),n.push(()=>{s.removeEventListener(u,l)})})}}),sS({action:()=>n.forEach(o=>o())})))));ed.ActiveEvents=lS});var ht=p(td=>{var{cs:aS}=N(),{OnUnmounted:fS}=Ye(),{Static2:pS}=Be(),{fragments:dS}=ne(),{Invoke:mS}=ze(),hS=typeof window=="undefined"?null:window,vS=({eventName:e,fn:t,action:r,useCapture:n=!1,passive:o=!1,target:s=hS,next:i=void 0})=>aS(["listener",(c,u)=>pS({next:u})],({listener:c})=>dS(s&&mS({props:{action:r??t},action:({getLatestProps:u})=>{let l=f=>{let{action:d}=u();d(f)};s.addEventListener(e,l,{capture:n,passive:o}),c.set(l)}}),fS({action:()=>{let u=c.get();u&&s.removeEventListener(e,u,{capture:n,passive:o})}}),i?.()));td.GlobalEvent=vS});var nd=p(rd=>{var{GlobalEvent:yS}=ht(),gS=({action:e})=>yS({eventName:"mousemove",fn:e});rd.GlobalMouseMove=gS});var sd=p(od=>{var{GlobalEvent:xS}=ht(),CS=({action:e})=>xS({eventName:"mouseup",fn:e});od.GlobalMouseUp=CS});var tt=m(F());var Fm=m(N()),Gm=m(ga()),Hm=m(mf());var M=m(F()),Gt=m(_e());var tp=m(Ft());var Oe=e=>e.ctrlKey||e.altKey||e.metaKey||e.key?.length>1;var rp=(0,tp.GlobalEventQueue)({eventName:"keydown",surCheck:e=>e.key==="c"&&!Oe(e)});var np=m(Ft()),op=(0,np.GlobalEventQueue)({eventName:"keydown",surCheck:e=>e.key==="Escape"});var Ze=m(Ft());var sp=({controls:e,extraControl:t})=>M.createElement("div",{className:"controls-58f"},Db({controls:e}),t&&M.createElement("div",{className:"extra-control"},t())),Db=({controls:e})=>M.createElement("div",{className:"buttons"},M.createElement("button",{...{className:(0,Gt.cx)({active:e.crop.active}),onClick:e.crop.toggle}},"Crop"),rp({action:e.crop.toggle}),e.mode.current&&op({action:e.mode.clear}),(()=>M.createElement(M.Fragment,null,M.createElement("button",{...{onClick:e.rotate}},"Rotate"),Nb({action:e.rotate})))(),(()=>M.createElement(M.Fragment,null,M.createElement("button",{...{onClick:e.flip}},"Flip"),Ub({action:e.flip})))(),M.createElement("button",{...{onClick:e.reset}},"Reset"),_b({action:e.reset}),(()=>M.createElement(M.Fragment,null,M.createElement("button",{...{className:(0,Gt.cx)({active:e.grayscale.active}),onClick:e.grayscale.toggle}},"Gray"),Ob({action:e.grayscale.toggle})))(),(()=>M.createElement(M.Fragment,null,M.createElement("button",{...{className:(0,Gt.cx)({active:e.negative.active}),onClick:e.negative.toggle}},"Negative")))(),(()=>M.createElement(M.Fragment,null,M.createElement("button",{...{className:(0,Gt.cx)({active:e.tint.active}),onClick:e.tint.toggle}},"Tint")))(),(()=>M.createElement(M.Fragment,null,M.createElement("button",{...{disabled:!e.undo.canDo,onClick:e.undo.invoke}},"Undo"),e.undo.canDo&&Ab({action:e.undo.invoke})))(),(()=>M.createElement(M.Fragment,null,M.createElement("button",{...{disabled:!e.redo.canDo,onClick:e.redo.invoke}},"Redo"),e.redo.canDo&&Mb({action:e.redo.invoke})))()),_b=(0,Ze.GlobalEventQueue)({eventName:"keydown",surCheck:e=>e.key==="e"&&!Oe(e)}),Ob=(0,Ze.GlobalEventQueue)({eventName:"keydown",surCheck:e=>e.key==="g"&&!Oe(e)}),Ab=(0,Ze.GlobalEventQueue)({eventName:"keydown",surCheck:e=>e.key==="z"&&!Oe(e)}),Mb=(0,Ze.GlobalEventQueue)({eventName:"keydown",surCheck:e=>e.key==="v"&&!Oe(e)}),Nb=(0,Ze.GlobalEventQueue)({eventName:"keydown",surCheck:e=>e.key==="r"&&!Oe(e)}),Ub=(0,Ze.GlobalEventQueue)({eventName:"keydown",surCheck:e=>e.key==="f"&&!Oe(e)});var rA=m(F());var rn=m(N()),nn=m(V()),wt=m(z());var cp=m(V());var D=(e,t)=>({x:e.x+t.x,y:e.y+t.y});var ip=m(V());var Je=({width:e,height:t})=>({x:e/2,y:t/2});var Ae=(e,t)=>{for(t>0&&(t-=360);t<0;)t+=90,e={x:e.y,y:-e.x};return e};var W=(e,t)=>({x:e.x-t.x,y:e.y-t.y});var $r=(e,t)=>{let r=Je(e),n=t.center??Je(t.raw.size),o=[s=>W(s,r),s=>Ae(s,-t.rotation),s=>t.flip?{x:-s.x,y:s.y}:s,s=>D(s,n)];return s=>(0,ip.chain2)(s,o)};var Ht=(e,t)=>(0,cp.chain2)(e,[r=>D(r,{x:.5,y:.5}),t,r=>W(r,{x:.5,y:.5})]);var up=({x:e,y:t,width:r,height:n})=>({x:e+r/2,y:t+n/2});var lp=({size:e,draw:t})=>{let r=document.createElement("canvas");r.width=e.width,r.height=e.height,t(r);let n=document.createElement("a");n.href=r.toDataURL("image/jpeg"),n.target="_blank",n.setAttribute("download","a.jpg"),document.body.appendChild(n),n.click(),n.remove()};var Fe=(e,t)=>{for(let r=0;r<e.height;r++)for(let n=0;n<e.width;n++)t({x:n,y:r})};var vp=m(N()),Zo=m(Kt()),yp=m(Ce()),gp=({initValue:e=void 0,canSwallowLastStep:t,next:r})=>(0,vp.cs)(["state",(n,o)=>(0,yp.UseState)({getInitValue:()=>e?{index:0,list:[e]}:{index:-1,list:[]},next:o})],({state:n})=>r({value:n.value.list[n.value.index],...n.value.index>-1&&{canUndo:!0,undo:()=>(0,Zo.scnv)(n,["index"],o=>o-1)},...n.value.list.length>n.value.index+1&&{canRedo:!0,redo:()=>(0,Zo.scnv)(n,["index"],o=>o+1)},change:o=>n.change(s=>{let i=o(s.list[s.index]);return t(i,s.list[s.index])?{index:s.index,list:[...(s.list??[]).slice(0,s.index),i]}:{index:s.index+1,list:[...(s.list??[]).slice(0,s.index+1),i]}})}));var Pp=m(N()),Dp=m(Rp());var be=(e,t)=>e?(e.y*t+e.x)*4:null;var kp=async e=>{let t=await new Promise(o=>{let s=new Image;s.crossOrigin="Anonymous",s.onload=()=>{o(s)},s.src=e}),r=document.createElement("canvas");r.width=t.naturalWidth,r.height=t.naturalHeight;let n=r.getContext("2d");return n.drawImage(t,0,0),{canvas:r,imgData:n.getImageData(0,0,r.width,r.height)}};var Lr=(()=>{let e={r:null,g:null,b:null};return(t,r)=>(e.r=t[r],e.g=t[r+1],e.b=t[r+2],e)})();var _p=({url:e,next:t})=>(0,Pp.cs)(["data",({},r)=>(0,Dp.Load2)({fetch:()=>kp(e),next:r})],({data:r})=>t(r.loading?{loading:!0}:{canvas:r.value.canvas,size:{width:r.value.canvas.width,height:r.value.canvas.height},getDataRect:n=>r.value.canvas.getContext("2d").getImageData(n.x,n.y,n.width,n.height),getPColor:n=>Lr(r.value?.imgData.data,be(n,r.value?.imgData.width))}));var Me=({width:e,height:t})=>({width:t,height:e});var fs=m(F());var ps=m(N()),sm=m(ne()),im=m(et()),cm=m(Ce());var Op=m(_e()),Qt=m(F());var Ap=m(N()),Mp=m(et()),Np=m(z()),Up=({state:e})=>Qt.createElement("div",{className:"aspect-ratio-control aspect-ratio-control-4fr"},Qt.createElement("div",{className:"label"},"Aspect ratio:"),Qt.createElement("div",{className:"options"},Wb.map((t,r)=>(0,Ap.cs)((0,Mp.keyed)(r),()=>Qt.createElement("button",{...{className:(0,Op.cx)({active:(0,Np.equalDeep)(t,e.value)}),onClick:()=>e.onChange(t)}},t?`${t.width}:${t.height}`:"Custom"))))),Wb=[{width:2,height:3},{width:3,height:4},{width:1,height:1},null];var jp=m(jr()),Yt=m(V());var $p=e=>({width:Math.floor(e.width),height:Math.floor(e.height)}),Tp=e=>({x:Math.floor(e.x),y:Math.floor(e.y)});var Lp=m(j()),Ge=(e,t)=>{let r=(0,Lp.findMaxE)(["width","height"],n=>{let o=s=>s==="width"?"height":"width";return t[n]/t[o(n)]/(e[n]/e[o(n)])});return e[r]/t[r]};var ce=(e,t)=>({width:e.width*t,height:e.height*t});var O=(e,t)=>({x:e.x*t,y:e.y*t});var oe=(e,t)=>{let r=Math.min(e.x,t.x),n=Math.min(e.y,t.y);return{x:r,y:n,width:Math.max(e.x,t.x)-r,height:Math.max(e.y,t.y)-n}};var mt=e=>({width:Math.round(e.width),height:Math.round(e.height)});var Z=e=>({x:Math.round(e.x),y:Math.round(e.y)});var zp=({frame:e,desktop:t,aspectRatio:r,onDone:n})=>(0,jp.OnMounted)({action:()=>{let o={x:0,y:0,...ce(e.size,1/e.ratio)},s=(0,Yt.chain)(ce(t.getBoundingClientRect(),1/e.ratio),$p,i=>({...(0,Yt.chain)(O(e.start,-1/e.ratio),Z),...i}));n((0,Yt.chain)(Xb(o,s),eS,i=>r?Zb(i,r):i))}}),Zb=(e,t)=>{let r=Ge(e,t);return(0,Yt.chain)({x:e.x+(e.width-t.width*r)/2,y:e.y+(e.height-t.height*r)/2,width:t.width*r,height:t.height*r},Jb)},Jb=e=>({...Z(e),...mt(e)}),Xb=(e,t)=>oe({x:Math.max(e.x,t.x),y:Math.max(e.y,t.y)},{x:Math.min(e.x+e.width,t.x+t.width),y:Math.min(e.y+e.height,t.y+t.height)}),eS=e=>{let t=Math.round(Math.min(e.width,e.height)*.05);return{x:e.x+t,y:e.y+t,width:e.width-t*2,height:e.height-t*2}};var Bd=m(F());var Fd=m(N()),ls=m(ne()),Gd=m(Ye()),Hd=m(Kt()),Wd=m(Ce()),Kd=m(Xo()),Qd=m(V()),as=m(z());var Wp=m(j()),rs=m(V()),Kp=m(z());var Ne=({width:e,height:t})=>({x:e,y:t});var Hp=({x:e,y:t})=>({width:e,height:t});var es=m(V()),Ue=(e,t)=>({x:(0,es.chain)(e.x,r=>Math.max(0,r),r=>Math.min(t.width,r)),y:(0,es.chain)(e.y,r=>Math.max(0,r),r=>Math.min(t.height,r))});var ts=e=>({x:e.x===0?0:e.x/Math.abs(e.x),y:e.y===0?0:e.y/Math.abs(e.y)});var Zt=({p2:e,p1:t,aspectRatio:r,size:n})=>{let o=W(e,t),s=(0,rs.chain)(Ne(r),u=>(0,Wp.findMaxE)([O(u,Math.abs(o.x)/u.x),O(u,Math.abs(o.y)/u.y)],l=>l.x*l.y),u=>Qp(u,ts(o)),Z,u=>D(t,u)),i=Ue(s,n);if((0,Kp.equalDeep)(i,s))return s;let c=Ge(Hp(rS(W(i,t))),r);return(0,rs.chain)(O(Ne(r),c),u=>Qp(u,ts(W(i,t))),u=>D(t,u),Z)},rS=e=>({x:Math.abs(e.x),y:Math.abs(e.y)}),Qp=(e,t)=>({x:e.x*t.x,y:e.y*t.y});var us=m(F()),$d=m(_e());var Gr=m(N()),Td=m(Zp()),Ld=m(et()),er=m(V()),jd=m(z());var pd=m(ns()),dd=m(N()),md=m(ne()),hd=m(nd()),vd=m(sd());var id=m(ht()),cd=({action:e})=>(0,id.GlobalEvent)({eventName:"touchcancel",fn:e});var ud=m(ht()),ld=({action:e})=>(0,ud.GlobalEvent)({eventName:"touchend",fn:e});var ad=m(ht()),fd=({action:e})=>(0,ad.GlobalEvent)({eventName:"touchmove",fn:e});var yd=m(ze()),gd=m(Ce()),os=m(V()),He=({next:e})=>(0,dd.cs)(["state",(t,r)=>(0,gd.UseState)({next:r})],["events",({state:t},r)=>(0,pd.ActiveEvents)({events:{onTouchStart:n=>{n.preventDefault(),n.stopPropagation(),t.onChange({oriPos:zr(n.touches[0])})}},next:r})],({state:t,events:r})=>e({active:t.value,handle:{onMouseDown:n=>{n.preventDefault(),n.stopPropagation(),t.onChange({oriPos:zr(n)})},ref:r.ref},renderActive:({onDone:n=void 0,modDelta:o=void 0,onStart:s=void 0})=>t.value&&(0,md.fragments)(s&&(0,yd.Invoke)({action:()=>s({oriPos:t.value.oriPos})}),(0,vd.GlobalMouseUp)({action:()=>{t.value.delta&&n&&n(t.value.delta),t.onChange(null)}}),ld({action:()=>{t.value.delta&&n&&n(t.value.delta),t.onChange(null)}}),cd({action:()=>{t.onChange(null)}}),(0,hd.GlobalMouseMove)({action:i=>{t.change(c=>c&&{...c,delta:(0,os.chain)(xd(zr(i),c.oriPos),u=>o?o(u):u)})}}),fd({action:i=>{t.change(c=>c&&{...c,delta:(0,os.chain)(xd(zr(i.touches[0]),c.oriPos),u=>o?o(u):u)})}}))})),zr=e=>({x:e.clientX,y:e.clientY}),xd=(e,t)=>({x:e.x-t.x,y:e.y-t.y});var Cd=(e,t)=>({...O(e,t),...ce(e,t)});var wd=(e,t)=>({width:e.width-t.width,height:e.height-t.height});var de=e=>({top:e.y,left:e.x});var Br=m(V()),Jt=m(z());var Ed=e=>[{start:(0,Jt.keepOnly)(e,["x","y"]),rotation:0,width:e.width},{start:(0,Br.chain)((0,Jt.keepOnly)(e,["x","y"]),t=>D(t,{x:e.width,y:0})),rotation:90,width:e.height},{start:(0,Br.chain)((0,Jt.keepOnly)(e,["x","y"]),t=>D(t,{x:e.width,y:e.height})),rotation:180,width:e.width},{start:(0,Br.chain)((0,Jt.keepOnly)(e,["x","y"]),t=>D(t,{x:0,y:e.height})),rotation:270,width:e.height}];var Nd=m(_e()),Ud=m(F());var ss=m(N()),is=m(ne()),gt=m(V());var Pd=m(F()),Dd=m(N()),_d=m(ne()),Od=m(Be()),yt=m(V()),Ad=m(z());var We=(e,t,r)=>{t[r]=e.r,t[r+1]=e.g,t[r+2]=e.b,t[r+3]=e.a??255};var bd=e=>{let r=Math.max(e.r,e.g,e.b)>120?0:255;return{r,g:r,b:r}};var Sd=m(ne()),qd=m(jr()),Rd=m(Xo()),kd=m(z()),vt=({action:e,watchValue:t})=>{let r=()=>{e(t)};return(0,Sd.fragments)((0,qd.OnMounted)({action:r}),(0,Rd.Watch)({value:t,compare:kd.equalDeep,onChanged:r}))};var Fr=({start:e,rotation:t,height:r,width:n,shouldShowColor:o=void 0,getBgColor:s,ratio:i})=>(0,Dd.cs)(["ref",(c,u)=>(0,Od.Static2)({next:u})],({ref:c})=>{let u=(0,yt.chain)({x:n,y:r},f=>Ae(f,t)),l=oe(e,D(u,e));return!l.width||!l.height?null:(0,_d.fragments)(Pd.createElement("canvas",{...{className:"bg-canvas",...(0,Ad.keepOnly)(l,["width","height"]),style:{imageRendering:"pixelated",...(0,yt.chain)(l,f=>O(f,i),de),width:Math.max(1,l.width*i),height:Math.max(1,l.height*i)},ref:c.set}}),vt({watchValue:[e,n,r],action:()=>{let f=c.get(),d=f.getContext("2d");wS(d);let h=d.getImageData(0,0,f.width,f.height),y=(0,yt.chain)(oe({x:0,y:0},u),x=>O(x,-1));Fe(h,x=>{let C=(0,yt.chain)(W(x,y),b=>D(b,{x:.5,y:.5}),b=>Ae(b,-t),b=>W(b,{x:.5,y:.5}));(!o||o(C))&&We((0,yt.chain)(x,b=>W(b,y),b=>D(b,e),s,bd),h.data,be(x,f.width))}),d.putImageData(h,0,0)}}))});function wS(e){e.imageSmoothingEnabled=!1,e.mozImageSmoothingEnabled=!1,e.oImageSmoothingEnabled=!1,e.webkitImageSmoothingEnabled=!1,e.msImageSmoothingEnabled=!1}var Md=m(z());var Xt=e=>({...de(e),...(0,Md.keepOnly)(e,["width","height"])});var Id=({rotation:e,adjPoints:t,onChangedRect:r,next:n})=>(0,ss.cs)(["dragBox",(o,s)=>bS({rotation:e,adjPoints:t,onChangedRect:r,next:s})],({dragBox:o})=>n({modRect:o.modRect,render:({frame:s,start:i,limitSize:c,getBgColor:u})=>{let l=Math.max(1,Math.round(4/s.ratio)),f=[90,270].includes(e)?Me(c):c;return(0,is.fragments)(o.render({backSize:l*3,frontSize:l*6,start:i,frame:s}),Fr({start:i,rotation:e,width:Math.min(l*10,Math.floor(f.width/2)),height:Math.min(l*10,Math.floor(f.height/2)),shouldShowColor:ES(Math.ceil(l)),getBgColor:u,ratio:s.ratio}))}})),ES=e=>({x:t,y:r})=>Math.min(t,r)<e,bS=({rotation:e,adjPoints:t,onChangedRect:r,next:n})=>(0,ss.cs)(["dragging",(o,s)=>He({next:s})],({dragging:o})=>{let s=o.active?.delta&&(i=>{let c=o.active.delta,u=(0,gt.chain)({x:-.5,y:-.5},d=>Ae(d,e),d=>D(d,{x:.5,y:.5})),l=(0,gt.chain)({x:i.x+(1-u.x)*i.width,y:i.y+(1-u.y)*i.height},Z),f=(0,gt.chain)({x:i.x+u.x*i.width,y:i.y+u.y*i.height},d=>D(d,c),Z,d=>t(l,d));return oe(f,l)});return n({modRect:s,render:({backSize:i,frontSize:c,start:u,frame:l})=>(0,is.fragments)(o.renderActive({modDelta:f=>O(f,1/l.ratio),onDone:()=>r(s)}),Ud.createElement("div",{...{className:(0,Nd.cx)("corner-52i drag-box",{dragging:o.active}),draggable:!1,style:{...(()=>{let f=(0,gt.chain)({x:-i,y:-i},h=>Ae(h,e),h=>D(u,h),h=>O(h,l.ratio)),d=(0,gt.chain)({x:c,y:c},h=>Ae(h,e),h=>D(u,h),h=>O(h,l.ratio));return Xt(oe(f,d))})()},...o.handle}}))})});var cs=m(F()),Vd=({rect:e,outSize:t,style:r})=>cs.createElement("svg",{...{className:"outer-shade",viewBox:SS({x:0,y:0,...t}),style:r}},cs.createElement("path",{...{d:(()=>{let n=e;return["M 0,0",`l ${t.width},0`,`l 0,${t.height}`,`l ${-t.width},0`,`l 0,${-t.height}`,`M ${n.x},${n.y}`,`l ${n.width},0`,`l 0,${n.height}`,`l ${-n.width},0`,`l 0,${-n.height}`,"Z"].join(" ")})(),fill:"rgba(0,0,0,.3)",fillRule:"evenodd"}})),SS=e=>[e.x,e.y,e.width,e.height].join(" ");var zd=({rect:e,outSize:t,onChangedRect:r,adjPoints:n,getBgColor:o,frame:s})=>(0,Gr.cs)(["corners",(i,c)=>(0,Td.csArr)([0,90,180,270].map(u=>l=>Id({rotation:u,adjPoints:n,onChangedRect:f=>r(f(e)),next:l})),c)],["middleBox",(i,c)=>qS({outSize:t,onChangedRect:u=>r(u(e)),next:c})],["rect",({corners:i,middleBox:c},u)=>u((0,er.chain2)(e,[...i.map(l=>l.modRect),c.modRect].filter(l=>l)))],["lines",({rect:i},c)=>c((0,er.chain)(i,u=>Ed(u)))],({corners:i,middleBox:c,rect:u,lines:l})=>us.createElement("div",{...{className:"dragging-rect-9r7",style:{...de(s.start),width:0,height:0}}},c.render({ratio:s.ratio,rect:u}),Vd({rect:u,outSize:t,style:{...Xt({x:0,y:0,...s.size})}}),i.map((f,d)=>(0,Gr.cs)((0,Ld.keyed)(d),()=>f.render({limitSize:(0,jd.keepOnly)(u,["width","height"]),start:l[d].start,frame:s,getBgColor:o}))))),qS=({outSize:e,onChangedRect:t,next:r})=>(0,Gr.cs)(["dragging",(n,o)=>He({next:o})],({dragging:n})=>{let o=n.active?.delta&&(s=>({...s,...Ue(D(s,n.active.delta),wd(e,s))}));return r({modRect:o,render:({rect:s,ratio:i})=>us.createElement("div",{...{className:(0,$d.cx)("middle-box",{grabbing:n.active}),...n.handle,style:Xt(Cd(s,i))}},n.renderActive({modDelta:c=>(0,er.chain)(O(c,1/i),Z),onDone:()=>t(o)}))})});var Yd=({aspectRatio:e,next:t})=>(0,Fd.cs)(["rectState",(r,n)=>(0,Wd.UseState)({next:n})],({rectState:r})=>t({activate:n=>r.onChange({rect:n}),ready:r.value,rect:r.value?.rect,render:({frame:n,desktop:o,getBgColor:s,onDone:i})=>{let c=mt(ce(n.size,1/n.ratio));return(0,ls.fragments)((0,ls.fragments)((0,Kd.Watch)({value:e,compare:as.equalDeep,onChanged:()=>{let u=(()=>{if(!e)return r.value.rect;let l=r.value.rect;return oe(l,Zt({p2:{x:l.x+l.width,y:l.y+l.height},p1:l,aspectRatio:e,size:c}))})();(0,as.equalDeep)(r.value.rect,u)||r.onChange({rect:u})}}),(0,Gd.OnUnmounted)({action:()=>r.onChange(null)})),r.value?.rect&&Bd.createElement("div",{...{className:"dragging-rect-mode-21o"}},zd({rect:r.value.rect,outSize:c,frame:n,adjPoints:(u,l)=>(0,Qd.chain)(Ue(l,c),f=>e?Zt({p2:f,p1:u,aspectRatio:e,size:c}):f),onChangedRect:u=>(0,Hd.scnv)(r,["rect"],()=>u),getBgColor:s})))}}));var em=m(F());var Hr=m(N()),tm=m(Ce()),Wr=m(V());var Zd=m(F());var Jd=m(N());var Xd=({rect:e,frame:t,getBgColor:r})=>(0,Jd.cs)(({})=>Zd.createElement("div",{...{className:"highlight-rect-72o highlight-rect",style:{...de(t.start),width:0,height:0}}},Fr({rotation:0,start:e,width:e.width,height:e.height,shouldShowColor:n=>n.x===0||n.y===0||n.x===e.width-1||n.y===e.height-1,getBgColor:r,ratio:t.ratio})));var rm=({aspectRatio:e,next:t})=>(0,Hr.cs)(({})=>t({render:({frame:r,desktop:n,getBgColor:o,onDone:s})=>(0,Hr.cs)(["state2",(i,c)=>(0,tm.UseState)({next:c})],["dragging",(i,c)=>He({next:c})],["getRect",({state2:i},c)=>c(u=>{let l=mt(ce(r.size,1/r.ratio)),f=Ue(i.value.pos1,l),d=Ue(D(i.value.pos1,u),l);return(0,Wr.chain)((()=>e==null?d:Zt({p2:d,p1:f,aspectRatio:e,size:l}))(),h=>oe(f,h))})],({dragging:i,state2:c,getRect:u})=>em.createElement("div",{...{className:"drawing-rect-mode-52k",...i.handle}},i.renderActive({onStart:({oriPos:l})=>{c.onChange({pos1:(0,Wr.chain)(W(l,n.getBoundingClientRect()),f=>W(f,r.start),f=>O(f,1/r.ratio),Z)})},modDelta:l=>(0,Wr.chain)(l,f=>O(f,1/r.ratio),Z),onDone:l=>{let f=u(l);f.width&&f.height&&s(f)}}),c.value&&i.active?.delta&&(0,Hr.cs)(["rect",(l,f)=>f(u(i.active.delta))],({rect:l},f)=>!!l.width&&!!l.height&&f(),({rect:l})=>Xd({rect:l,getBgColor:o,frame:r}))))}));var nm=m(Ft()),om=(0,nm.GlobalEventQueue)({eventName:"keydown",surCheck:e=>e.key==="Enter"});var um=({onDone:e,getImgPixelPoint:t,raw:r,next:n})=>(0,ps.cs)(["aspectRatio",(o,s)=>(0,cm.UseState)({next:s})],["drawing",({aspectRatio:o},s)=>rm({aspectRatio:o.value,next:s})],["dragging",({aspectRatio:o},s)=>Yd({aspectRatio:o.value,next:s})],({drawing:o,dragging:s,aspectRatio:i})=>n({extraControl:()=>fs.createElement("div",{className:"crop-mode-46s extra-control"},Up({state:i}),s.ready&&(0,sm.fragments)(fs.createElement("button",{...{onClick:()=>e(s.rect)}},"Accept"),om({action:()=>e(s.rect)}))),renderOverlay:({frame:c,desktop:u})=>(0,ps.cs)((0,im.keyed)(s.ready),()=>s.ready?s.render({frame:c,desktop:u,getBgColor:l=>r.getPColor(t(l)),onDone:e}):u.getBoundingClientRect().width<500?zp({frame:c,desktop:u,onDone:s.activate,aspectRatio:i.value}):o.render({frame:c,desktop:u,getBgColor:l=>r.getPColor(t(l)),onDone:s.activate}))}));var Kr=e=>{let t=(e.r+e.g+e.b)/3;e.r=e.g=e.b=t};var xt=e=>{e.r=255-e.r,e.g=255-e.g,e.b=255-e.b};var Se=m(Kt()),ue=m(Wt()),Ct=m(V());var ds=e=>(e<0&&(e+=360),e>=360&&(e-=360),e);var lm=e=>({crop:{active:e.value?.mode==="crop",toggle:()=>(0,Se.scnv)(e,["mode"],t=>t==="crop"?null:"crop")},mode:{current:e.value?.mode,clear:()=>(0,Se.scnv)(e,["mode"],()=>null)},rotate:()=>(0,Se.scnv)(e,[],t=>(0,Ct.chain)(t,r=>(0,ue.cnv)(r,["image","rotation"],n=>ds((n??0)+90)),r=>(0,ue.cnv)(r,["vpSize"],n=>n&&Me(n)),r=>(0,ue.cnv)(r,["mode"],()=>null))),flip:()=>(0,Se.scnv)(e,[],t=>(0,Ct.chain)(t,r=>(0,ue.cnv)(r,["image","rotation"],n=>!n||n===180?n:ds(n+180)),r=>(0,ue.cnv)(r,["image","flip"],n=>!n),r=>(0,ue.cnv)(r,["mode"],()=>null))),reset:()=>e.change(()=>null),grayscale:{active:e.value?.filter==="grayscale",toggle:()=>(0,Se.scnv)(e,[],t=>(0,Ct.chain)(t,r=>(0,ue.cnv)(r,["filter"],n=>n==="grayscale"?null:"grayscale"),r=>(0,ue.cnv)(r,["mode"],()=>null)))},negative:{active:e.value?.filter==="negative",toggle:()=>(0,Se.scnv)(e,[],t=>(0,Ct.chain)(t,r=>(0,ue.cnv)(r,["filter"],n=>n==="negative"?null:"negative"),r=>(0,ue.cnv)(r,["mode"],()=>null)))},tint:{active:e.value?.filter==="tint",toggle:()=>(0,Se.scnv)(e,[],t=>(0,Ct.chain)(t,r=>(0,ue.cnv)(r,["filter"],n=>n==="tint"?null:"tint"),r=>(0,ue.cnv)(r,["mode"],()=>null)))},undo:{canDo:e.canUndo,invoke:e.undo},redo:{canDo:e.canRedo,invoke:e.redo},zoom:{current:e.value?.frame?.scale??1,canZoomIn:!0,zoomIn:()=>(0,Se.scnv)(e,["frame","scale"],t=>(t??1)*1.1),zoomOut:()=>(0,Se.scnv)(e,["frame","scale"],t=>(t??1)/1.1),canZoomOut:!0}});var tr=m(F()),hs=m(_e());var Jr=m(N()),Xr=m(ne()),bm=m(et()),Sm=m(jr()),qm=m(Ye()),vs=m(Be()),ys=m(V()),Rm=m(z());var am=(e,t=.25)=>Math.min(e+t*(255-e),255),Qr=e=>{e.r=am(e.r),e.b=am(e.b)};var Yr=m(V());var fm=({desktopSize:e,vpSize:t,frame:r})=>{let n=(0,Yr.chain)((()=>{let s=Math.min(Math.min(e.width,e.height)*.1,20);return Ge({width:e.width-s*2,height:e.height-s*2},t)})(),s=>s*r.scale),o=ce(t,n);return{ratio:n,size:o,start:(0,Yr.chain)(Je(e),s=>D(s,r.offset),s=>D(s,(0,Yr.chain)(Ne(o),i=>O(i,1/2),i=>O(i,-1))))}};var gm=m(_e()),xm=m(F()),Cm=m(N()),wm=m(Be());var pm=m(N()),ms=m(Ce()),dm=m(Be()),mm=m(ne()),hm=m(Ye()),Zr=m(z()),vm=m(ze()),ym=({translate:e=s=>s,getDefaultValue:t=null,defaultValue:r={width:1024,height:768},compare:n=Zr.equalDeep,next:o})=>(0,pm.cs)(["size",(s,i)=>(0,ms.UseState)({next:i})],["dom",(s,i)=>(0,ms.UseState)({next:i})],["nativeObserver",(s,i)=>(0,dm.Static2)({next:i})],({size:s,nativeObserver:i,dom:c})=>{let u=s.value?s.value.translated:t?t():r;return(0,mm.fragments)(c.value&&(0,vm.Invoke)({props:{size:s,value:u},action:({getLatestProps:l})=>{i.set(PS({dom:c.value,onResize:f=>{let{size:d,value:h}=l(),y=e(f);(!d.value||!n(y,h))&&d.onChange({translated:y})}}))}}),o({ref:l=>{!l||c.value||c.onChange(l)},value:u}),(0,hm.OnUnmounted)({action:()=>i.get()?.destroy()}))}),RS=({dom:e,onResize:t})=>{let r=null,n=s=>({width:s.width,height:s.height}),o=setInterval(()=>{let s=e.getBoundingClientRect(),i=n(s);(r==null||!(0,Zr.equalDeep)(i,r))&&(r=i,t(i))},1e3);return{destroy:()=>{clearInterval(o)}}},kS=({dom:e,onResize:t})=>{let r=null,n=s=>({width:s.width,height:s.height}),o=window.ResizeObserver?new window.ResizeObserver(()=>{let s=e.getBoundingClientRect(),i=n(s);(r==null||!(0,Zr.equalDeep)(i,r))&&(r=i,t(i))}):null;return o?.observe(e),{destroy:()=>{o?.unobserve(e)}}},PS=(()=>typeof window.ResizeObserver!="undefined"?kS:RS)();var Em=({className:e,next:t})=>(0,Cm.cs)(["size",(r,n)=>ym({next:n})],["ref",(r,n)=>(0,wm.Static2)({next:n})],({size:r,ref:n})=>xm.createElement("div",{className:(0,gm.cx)("canvas-desktop-0wo canvas-desktop",e),ref:o=>{r.ref?.(o),n.set(o)}},t({size:r.value,getBoundingClientRect:()=>n.get().getBoundingClientRect()})));var km=({image:e,className:t=void 0,renderOverlay:r,vpSize:n,fullMode:o,frame:s,getImgPoint:i,filter:c})=>(0,Jr.cs)(["canvasDesktop",(u,l)=>Em({className:(0,hs.cx)("main-panel-45i",t),next:l})],({},u)=>e?u():tr.createElement("div",{className:"loading"},"Loading..."),["frameLoc",({canvasDesktop:u},l)=>l(fm({desktopSize:u.size,vpSize:n,frame:s}))],({frameLoc:u,canvasDesktop:l},f)=>(0,Xr.fragments)(f(),r({frame:u,desktop:{getBoundingClientRect:l.getBoundingClientRect}})),({frameLoc:u},l)=>tr.createElement("div",{...{className:"frame",style:{...de(u.start),...u.size}}},l()),["canvasWrapperRef",(u,l)=>(0,vs.Static2)({next:l})],({canvasWrapperRef:u,frameLoc:l},f)=>tr.createElement("div",{...{className:(0,hs.cx)("canvas",c),ref:u.set,style:{...[90,270].includes(e?.rotation)?{...(0,ys.chain)(W(Ne(l.size),Ne(Me(l.size))),d=>O(d,1/2),de),...Me(l.size)}:{...de({x:0,y:0}),...l.size},...(0,ys.chain)([e?.rotation&&`rotate(${e.rotation}deg)`,e?.flip&&"scaleX(-1)"],d=>d.filter(h=>h),d=>d.length&&{transform:d.join(" ")})}}},f()),({canvasWrapperRef:u})=>(0,Jr.cs)((0,bm.keyed)(o),()=>o&&gs(c)?(0,Xr.fragments)((0,Sm.OnMounted)({action:()=>{u.get().appendChild(e.raw.canvas)}}),(0,qm.OnUnmounted)({action:()=>{e.raw.canvas.remove()}})):(0,Jr.cs)(["canvasRef",(l,f)=>(0,vs.Static2)({next:f})],({canvasRef:l})=>{let f=DS(n,i);return(0,Xr.fragments)(tr.createElement("canvas",{...{...(0,Rm.keepOnly)(f,["width","height"]),ref:l.set}}),vt({watchValue:[n,e?.center,gs(c)?null:c],action:()=>{let h=l.get().getContext("2d"),y=e.raw.getDataRect(f);if(!gs(c)){let x=c==="negative"?xt:Qr;Fe(y,C=>{let b=be(C,y.width),A=Lr(y.data,b);x(A),We(A,y.data,b)})}h.putImageData(y,0,0)}}))}))),gs=e=>e==null||e=="grayscale",DS=(e,t)=>oe(t({x:0,y:0}),t(Ne(e)));var _m=m(F()),Om=m(_e());var Am=m(ns()),xs=m(N()),Cs=m(Wt());var Pm=m(j()),en=[...(0,Pm.reverse)(Dm(1,20,1.1)),1,...Dm(1,20,1/1.1)];function Dm(e,t,r){let n=[],o=e;for(let s=0;s<t;s++)o=o*r,n.push(o);return n}var Mm=({onChangeFrame:e,next:t})=>(0,xs.cs)(["dragging",(r,n)=>He({next:n})],({dragging:r})=>t({defaultMode:!0,modFrame:r.active?.delta&&(n=>(0,Cs.cnv)(n,["offset"],o=>D(o??{x:0,y:0},r.active.delta))),renderOverlay:({frame:n})=>(0,xs.cs)(["activeEvents",(o,s)=>(0,Am.ActiveEvents)({events:{onWheel:i=>{i.preventDefault(),i.stopPropagation(),e(c=>{let u=c?.scale??1,l=(()=>{let f=en.indexOf(u);return f+=i.deltaY>0?-1:1,f=Math.min(en.length-1,f),f=Math.max(0,f),en[f]})();return{...c,offset:c?.offset&&O(c.offset,l/u),scale:l}})}},next:s})],({activeEvents:o})=>_m.createElement("div",{...{className:(0,Om.cx)("normal-mode normal-mode-20e",{dragging:r.active}),...r.handle,ref:o.ref}},r.renderActive({onDone:s=>e(i=>(0,Cs.cnv)(i,["offset"],c=>D(c??{x:0,y:0},s)))})))}));var ws=m(F()),Nm=m(_e());var Um=m(N()),Im=m(Be()),tn=m(V()),Vm=m(z());var $m=({className:e,size:t,filter:r,vpSize:n,image:o})=>(0,Um.cs)((s,i)=>o&&i(),["ref",(s,i)=>(0,Im.Static2)({next:i})],({ref:s})=>{let i=Ge(t,n),c=ce(n,i);return ws.createElement("div",{...{className:(0,Nm.cx)("preview-canvas preview-canvas-5nc",e),style:{...t}}},ws.createElement("canvas",{...{...c,style:{...c,...n.width*i<t.width?{top:0,left:(t.width-n.width*i)/2}:{top:(t.height-n.height*i)/2,left:0}},ref:s.set}}),vt({watchValue:[(0,Vm.omit)(o,["raw"]),n,r],action:()=>{let u=s.get();if(!u)return;let l=u.getContext("2d"),f=l.getImageData(0,0,u.width,u.height),d=(0,tn.chain)($r(n,o),h=>y=>Ht(y,h));Fe(u,h=>{let y=(0,tn.chain)(h,x=>O(x,1/i),d,Tp,x=>_S(x,o.raw.size),x=>o.raw.getPColor(x));r&&(r==="grayscale"?Kr(y):r==="negative"?xt(y):r==="tint"&&Qr(y)),We(y,f.data,be(h,u.width))}),l.putImageData(f,0,0)}}))}),_S=(e,t)=>(0,tn.chain)(e,Z,r=>({x:Math.max(0,Math.min(t.width-1,r.x)),y:Math.max(0,Math.min(t.height-1,r.y))}));var Tm=m(et()),Lm=m(Kt()),jm=({url:e,next:t})=>(0,rn.cs)(["raw",({},r)=>_p({url:e,next:r})],["adj",(r,n)=>gp({canSwallowLastStep:(o,s)=>(0,wt.equalDeep)((0,wt.keepOnly)(o,["image","filter"]),(0,wt.keepOnly)(s,["image","filter"])),next:n})],["image",({raw:r,adj:n},o)=>o(r.loading?null:{center:n.value?.image?.center??Je(r.size),flip:n.value?.image?.flip,rotation:n.value?.image?.rotation,raw:r})],["vpSize",({raw:r,adj:n},o)=>o(r.loading?null:n.value?.vpSize??([90,270].includes(n.value?.image?.rotation)?Me(r.size):r.size))],["getImgPoint",({adj:r,image:n,vpSize:o},s)=>s(n&&$r(o,n))],["modes",({adj:r,getImgPoint:n,raw:o},s)=>OS({adj:r,raw:o,getImgPoint:n,next:s})],["activeMode",({modes:r,adj:n},o)=>o(r.find(s=>s.name===n.value?.mode)??r.find(s=>s.default))],({adj:r,activeMode:n,raw:o,image:s,vpSize:i,getImgPoint:c})=>{let u=(0,nn.chain)(r.value?.frame,l=>n.control.modFrame?(0,nn.chain)(l,n.control.modFrame):l,l=>({scale:l?.scale??1,offset:l?.offset??{x:0,y:0}}));return t({renderMain:({})=>km({image:s,fullMode:!r.value?.vpSize,vpSize:i,getImgPoint:c,frame:u,filter:r.value?.filter,renderOverlay:({frame:l,desktop:f})=>(0,rn.cs)((0,Tm.keyed)(n.name),()=>n.control.renderOverlay?.({frame:l,desktop:f}))}),controls:lm(r),extraControl:n.control.extraControl,renderPreview:({size:l,className:f})=>$m({className:f,size:l,image:s,filter:r.value?.filter,vpSize:i}),download:()=>lp({size:i,draw:l=>{let f=l.getContext("2d"),d=f.getImageData(0,0,l.width,l.height);Fe(l,h=>{let y=(0,nn.chain)(h,x=>Ht(x,c),o.getPColor);r.value?.filter&&(r.value.filter==="grayscale"?Kr(y):xt(y)),We(y,d.data,be(h,l.width))}),f.putImageData(d,0,0)}})})}),OS=({adj:e,getImgPoint:t,raw:r,next:n})=>(0,rn.cs)(["cropMode",({},o)=>um({raw:r,getImgPixelPoint:s=>Ht(s,t),onDone:s=>{e.change(i=>({...i,image:{...i.image,center:t(up(s))},vpSize:(0,wt.keepOnly)(s,["width","height"]),frame:null,mode:null}))},next:o})],["normalMode",({},o)=>Mm({onChangeFrame:s=>(0,Lm.scnv)(e,["frame"],s),next:o})],["modes",({cropMode:o,normalMode:s},i)=>i([{name:"crop",control:o},{name:"normal",default:!0,control:s}])],({modes:o})=>n(o));var on=m(F());var zm=m(N()),Bm=({control:e})=>(0,zm.cs)(()=>on.createElement("div",{className:"zoom zoom-1w5"},on.createElement("button",{onClick:e.zoomIn},"+"),on.createElement("button",{onClick:e.zoomOut},"-")));(0,Fm.cs)(({},e)=>Gm.render(e(),document.getElementById("root")),({},e)=>(0,Hm.EsbuildDispose)({next:e}),["imageEditor",(e,t)=>jm({url:"https://picsum.photos/seed/k2ws1/200/300",next:t})],({imageEditor:e})=>tt.createElement("div",{className:"test-image-editor-3dg"},tt.createElement("div",{className:"line1"},tt.createElement("div",{className:"left"},sp({controls:e.controls,extraControl:e.extraControl})),tt.createElement("div",{className:"right"},e.renderPreview({className:"preview",size:{width:70,height:40}}),tt.createElement("button",{...{onClick:()=>e.download()}},"Download"))),tt.createElement("div",{className:"line2"},e.renderMain({}),Bm({control:e.controls.zoom}))));})();
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/
/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/** @license React v16.11.0
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/** @license React v16.14.0
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
